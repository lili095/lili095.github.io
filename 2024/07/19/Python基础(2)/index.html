<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Python基础(2)-数据结构 | 李梓卓的技术专栏</title><meta name="author" content="李梓卓"><meta name="copyright" content="李梓卓"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据结构——列表在 Python 中我们可以通过容器类型的变量来保存和操作多个数据，我们首先为大家介绍列表（list）这种新的数据类型。 创建列表在 Python 中，列表是由一系元素按特定顺序构成的数据序列，这就意味着如果我们定义一个列表类型的变量，可以用它来保存多个数据。在 python 中，可以使用[]字面量语法来定义列表，列表中的多个元素用逗号进行分隔，代码如下所示。 123456item">
<meta property="og:type" content="article">
<meta property="og:title" content="Python基础(2)-数据结构">
<meta property="og:url" content="https://lili095.github.io/2024/07/19/Python%E5%9F%BA%E7%A1%80(2)/index.html">
<meta property="og:site_name" content="李梓卓的技术专栏">
<meta property="og:description" content="数据结构——列表在 Python 中我们可以通过容器类型的变量来保存和操作多个数据，我们首先为大家介绍列表（list）这种新的数据类型。 创建列表在 Python 中，列表是由一系元素按特定顺序构成的数据序列，这就意味着如果我们定义一个列表类型的变量，可以用它来保存多个数据。在 python 中，可以使用[]字面量语法来定义列表，列表中的多个元素用逗号进行分隔，代码如下所示。 123456item">
<meta property="og:locale">
<meta property="og:image" content="https://lili095.github.io/img/avatar.png">
<meta property="article:published_time" content="2024-07-18T16:00:00.000Z">
<meta property="article:modified_time" content="2024-07-19T09:20:05.115Z">
<meta property="article:author" content="李梓卓">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lili095.github.io/img/avatar.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://lili095.github.io/2024/07/19/Python%E5%9F%BA%E7%A1%80(2)/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: 李梓卓","link":"Link: ","source":"Source: 李梓卓的技术专栏","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python基础(2)-数据结构',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2024-07-19 17:20:05'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://dailybing.com/api/v1')"><nav id="nav"><span id="blog-info"><a href="/" title="李梓卓的技术专栏"><span class="site-name">李梓卓的技术专栏</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Python基础(2)-数据结构</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-07-18T16:00:00.000Z" title="Created 2024-07-19 00:00:00">2024-07-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-07-19T09:20:05.115Z" title="Updated 2024-07-19 17:20:05">2024-07-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python%E5%9F%BA%E7%A1%80/">Python基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python基础(2)-数据结构"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="数据结构——列表"><a href="#数据结构——列表" class="headerlink" title="数据结构——列表"></a>数据结构——列表</h2><p>在 Python 中我们可以通过容器类型的变量来保存和操作多个数据，我们首先为大家介绍列表（<code>list</code>）这种新的数据类型。</p>
<h3 id="创建列表"><a href="#创建列表" class="headerlink" title="创建列表"></a>创建列表</h3><p>在 Python 中，<strong>列表是由一系元素按特定顺序构成的数据序列</strong>，这就意味着如果我们定义一个列表类型的变量，<strong>可以用它来保存多个数据</strong>。在 python 中，可以使用<code>[]</code>字面量语法来定义列表，列表中的多个元素用逗号进行分隔，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">items1 = [<span class="number">35</span>, <span class="number">12</span>, <span class="number">99</span>, <span class="number">68</span>, <span class="number">55</span>, <span class="number">35</span>, <span class="number">87</span>]</span><br><span class="line">items2 = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Go&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>]</span><br><span class="line">items3 = [<span class="number">100</span>, <span class="number">12.3</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="literal">True</span>]</span><br><span class="line"><span class="built_in">print</span>(items1)  <span class="comment"># [35, 12, 99, 68, 55, 35, 87]</span></span><br><span class="line"><span class="built_in">print</span>(items2)  <span class="comment"># [&#x27;Python&#x27;, &#x27;Java&#x27;, &#x27;Go&#x27;, &#x27;Kotlin&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items3)  <span class="comment"># [100, 12.3, &#x27;Python&#x27;, True]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：列表中<strong>可以有重复元素</strong>，例如<code>items1</code>中的<code>35</code>；列表中<strong>可以有不同类型的元素</strong>，例如<code>items3</code>中有<code>int</code>类型、<code>float</code>类型、<code>str</code>类型和<code>bool</code>类型的元素，但是我们<strong>通常并不建议将不同类型的元素放在同一个列表中</strong>，主要是操作起来极为不方便。</p>
</blockquote>
<p>我们可以使用<code>type</code>函数来查看变量的类型，有因为列表可以保存多个元素，它是一种容器型的数据类型，所以我们在给列表类型的变量起名字时，变量名通常用<strong>复数形式的单词</strong>。</p>
<p>除此以外，还可以通过 Python 内置的<code>list</code>函数将其他序列变成列表。准确的说，<code>list</code>并不是一个普通的函数，它是创建列表对象的构造器，后面的课程会为大家介绍对象和构造器这些概念。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">items4 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>))</span><br><span class="line">items5 = <span class="built_in">list</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(items4)  <span class="comment"># [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(items5)  <span class="comment"># [&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>说明</strong>：<code>range(1, 10)</code>会产生<code>1</code>到<code>9</code>的整数序列，给到<code>list</code>构造器中，会创建出由<code>1</code>到<code>9</code>的整数构成的列表。字符串是字符构成的序列，上面的<code>list(&#39;hello&#39;)</code>用字符串<code>hello</code>的字符作为列表元素，创建了列表对象。</p>
</blockquote>
<h3 id="列表的运算"><a href="#列表的运算" class="headerlink" title="列表的运算"></a>列表的运算</h3><p>我们可以使用<code>+</code>运算符实现两个列表的<strong>拼接</strong>，拼接运算会将两个列表中的元素连接起来放到一个列表中，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">items5 = [<span class="number">35</span>, <span class="number">12</span>, <span class="number">99</span>, <span class="number">45</span>, <span class="number">66</span>]</span><br><span class="line">items6 = [<span class="number">45</span>, <span class="number">58</span>, <span class="number">29</span>]</span><br><span class="line">items7 = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;JavaScript&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(items5 + items6)  <span class="comment"># [35, 12, 99, 45, 66, 45, 58, 29]</span></span><br><span class="line"><span class="built_in">print</span>(items6 + items7)  <span class="comment"># [45, 58, 29, &#x27;Python&#x27;, &#x27;Java&#x27;, &#x27;JavaScript&#x27;]</span></span><br><span class="line">items5 += items6</span><br><span class="line"><span class="built_in">print</span>(items5)  <span class="comment"># [35, 12, 99, 45, 66, 45, 58, 29]</span></span><br></pre></td></tr></table></figure>



<p>我们可以使用<code>*</code>运算符实现列表的<strong>重复运算</strong>，<code>*</code>运算符会将列表元素重复指定的次数，我们在上面的代码中增加两行，如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(items6 * <span class="number">3</span>)  <span class="comment"># [45, 58, 29, 45, 58, 29, 45, 58, 29]</span></span><br><span class="line"><span class="built_in">print</span>(items7 * <span class="number">2</span>)  <span class="comment"># [&#x27;Python&#x27;, &#x27;Java&#x27;, &#x27;JavaScript&#x27;, &#x27;Python&#x27;, &#x27;Java&#x27;, &#x27;JavaScript&#x27;]</span></span><br></pre></td></tr></table></figure>



<p>我们可以使用<code>in</code>或<code>not in</code>运算符<strong>判断</strong>一个元素在不在列表中，我们在上面的代码代码中再增加两行，如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">29</span> <span class="keyword">in</span> items6)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">99</span> <span class="keyword">in</span> items6)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;C++&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> items7)     <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Python&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> items7)  <span class="comment"># False</span></span><br></pre></td></tr></table></figure>



<p>由于列表中有多个元素，而且元素是按照特定顺序放在列表中的，所以当我们想操作列表中的某个元素时，可以使用<code>[]</code>运算符，通过在<code>[]</code>中指定元素的位置来访问该元素，这种运算称为索引运算。</p>
<p>需要说明的是，<code>[]</code>的元素位置可以是<code>0</code>到<code>N - 1</code>的整数，也可以是<code>-1</code>到<code>-N</code>的整数，分别称为正向索引和反向索引，其中<code>N</code>代表列表元素的个数。对于<strong>正向索引</strong>，<code>[0]</code>可以访问列表中的第一个元素，<code>[N - 1]</code>可以访问最后一个元素；对于<strong>反向索引</strong>，<code>[-1]</code>可以访问列表中的最后一个元素，<code>[-N]</code>可以访问第一个元素，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">items8 = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;waxberry&#x27;</span>, <span class="string">&#x27;pitaya&#x27;</span>, <span class="string">&#x27;peach&#x27;</span>, <span class="string">&#x27;watermelon&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(items8[<span class="number">0</span>])   <span class="comment"># apple</span></span><br><span class="line"><span class="built_in">print</span>(items8[<span class="number">2</span>])   <span class="comment"># pitaya</span></span><br><span class="line"><span class="built_in">print</span>(items8[<span class="number">4</span>])   <span class="comment"># watermelon</span></span><br><span class="line">items8[<span class="number">2</span>] = <span class="string">&#x27;durian&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(items8)      <span class="comment"># [&#x27;apple&#x27;, &#x27;waxberry&#x27;, &#x27;durian&#x27;, &#x27;peach&#x27;, &#x27;watermelon&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">5</span>])  <span class="comment"># &#x27;apple&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">4</span>])  <span class="comment"># &#x27;waxberry&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">1</span>])  <span class="comment"># watermelon</span></span><br><span class="line">items8[-<span class="number">4</span>] = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(items8)      <span class="comment"># [&#x27;apple&#x27;, &#x27;strawberry&#x27;, &#x27;durian&#x27;, &#x27;peach&#x27;, &#x27;watermelon&#x27;]</span></span><br></pre></td></tr></table></figure>



<p>在使用索引运算的时候要<strong>避免出现索引越界的情况</strong>，对于上面的<code>items8</code>，如果我们访问<code>items8[5]</code>或<code>items8[-6]</code>，就会引发<code>IndexError</code>错误，导致程序崩溃，对应的错误信息是：<em>list index out of range</em>，翻译成中文就是“数组索引超出范围”。因为对于只有五个元素的列表<code>items8</code>，有效的正向索引是<code>0</code>到<code>4</code>，有效的反向索引是<code>-1</code>到<code>-5</code>。</p>
<p>如果希望一次性访问列表中的多个元素，我们可以使用<strong>切片运算</strong>。切片运算是形如<code>[start:end:stride]</code>的运算符，其中<code>start</code>代表访问列表元素的起始位置，<code>end</code>代表访问列表元素的终止位置（<strong>终止位置的元素无法访问</strong>），而<code>stride</code>则代表了跨度，简单的说就是<strong>位置的增量</strong>，比如我们访问的第一个元素在<code>start</code>位置，那么第二个元素就在<code>start + stride</code>位置，当然<code>start + stride</code>要小于<code>end</code>。我们给上面的代码增加下面的语句，来使用切片运算符访问列表元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(items8[<span class="number">1</span>:<span class="number">3</span>:<span class="number">1</span>])     <span class="comment"># [&#x27;strawberry&#x27;, &#x27;durian&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[<span class="number">0</span>:<span class="number">3</span>:<span class="number">1</span>])     <span class="comment"># [&#x27;apple&#x27;, &#x27;strawberry&#x27;, &#x27;durian&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[<span class="number">0</span>:<span class="number">5</span>:<span class="number">2</span>])     <span class="comment"># [&#x27;apple&#x27;, &#x27;durian&#x27;, &#x27;watermelon&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">4</span>:-<span class="number">2</span>:<span class="number">1</span>])   <span class="comment"># [&#x27;strawberry&#x27;, &#x27;durian&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">2</span>:-<span class="number">6</span>:-<span class="number">1</span>])  <span class="comment"># [&#x27;peach&#x27;, &#x27;durian&#x27;, &#x27;strawberry&#x27;, &#x27;apple&#x27;]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>提醒</strong>：对于代码中的最后一行，当跨度为负数时，切片运算是逆序排布，可以理解为倒着索引。</p>
</blockquote>
<p>如果<code>start</code>值等于<code>0</code>，那么在使用切片运算符时可以将其省略；如果<code>end</code>值等于<code>N</code>，<code>N</code>代表列表元素的个数，那么在使用切片运算符时可以将其省略；如果<code>stride</code>值等于<code>1</code>，那么在使用切片运算符时也可以将其省略。所以，下面的代码跟上面的代码作用完全相同。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(items8[<span class="number">1</span>:<span class="number">3</span>])     <span class="comment"># [&#x27;strawberry&#x27;, &#x27;durian&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[:<span class="number">3</span>:<span class="number">1</span>])    <span class="comment"># [&#x27;apple&#x27;, &#x27;strawberry&#x27;, &#x27;durian&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[::<span class="number">2</span>])     <span class="comment"># [&#x27;apple&#x27;, &#x27;durian&#x27;, &#x27;watermelon&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">4</span>:-<span class="number">2</span>])   <span class="comment"># [&#x27;strawberry&#x27;, &#x27;durian&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(items8[-<span class="number">2</span>::-<span class="number">1</span>])  <span class="comment"># [&#x27;peach&#x27;, &#x27;durian&#x27;, &#x27;strawberry&#x27;, &#x27;apple&#x27;]</span></span><br></pre></td></tr></table></figure>



<p>事实上，我们还可以<strong>通过切片操作修改列表中的元素</strong>，例如我们给上面的代码再加上一行，大家可以看看这里的输出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">items8[<span class="number">1</span>:<span class="number">3</span>] = [<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;o&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(items8)  <span class="comment"># [&#x27;apple&#x27;, &#x27;x&#x27;, &#x27;o&#x27;, &#x27;peach&#x27;, &#x27;watermelon&#x27;]</span></span><br></pre></td></tr></table></figure>



<p>两个列表还可以做关系运算，我们可以比较两个列表是否相等，也可以给两个列表比大小，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">nums2 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>))</span><br><span class="line">nums3 = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(nums1 == nums2)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(nums1 != nums2)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(nums1 &lt;= nums3)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(nums2 &gt;= nums3)  <span class="comment"># False</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面的<code>nums1</code>和<code>nums2</code>对应元素完全相同，所以<code>==</code>运算的结果是<code>True</code>。<code>nums2</code>和<code>nums3</code>的比较，首先比较的是第一个元素，由于<code>nums2</code>的第一个元素<code>1</code>小于<code>nums3</code>的第一个元素<code>3</code>，所以<code>nums2 &gt;= nums3</code>比较的结果是<code>False</code>。两个列表的关系运算在实际工作并不那么常用.</p>
</blockquote>
<h3 id="元素的遍历"><a href="#元素的遍历" class="headerlink" title="元素的遍历"></a>元素的遍历</h3><p>如果想逐个取出列表中的元素，可以使用<code>for-in</code>循环，有以下两种做法。</p>
<p>方法一：在循环结构中通过索引运算，遍历列表元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">languages = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(languages)):</span><br><span class="line">    <span class="built_in">print</span>(languages[index])</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Python</span><br><span class="line">Java</span><br><span class="line">C++</span><br><span class="line">Kotlin</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面的<code>len</code>函数可以获取列表元素的个数<code>N</code>，而<code>range(N)</code>则构成了从<code>0</code>到<code>N-1</code>的范围，刚好可以作为列表元素的索引。</p>
</blockquote>
<p>方法二：直接对列表做循环，循环变量就是列表元素的代表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">languages = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> language <span class="keyword">in</span> languages:</span><br><span class="line">    <span class="built_in">print</span>(language)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：列表是一种可迭代对象。可迭代对象是指可以返回其成员的一种对象。<code>for</code> 循环通过创建一个迭代器来逐个访问可迭代对象的每个元素。例如，循环迭代时，本次迭代器从第一个元素（即<code>languages[0]</code>)开始，逐次返回列表中的下一个<strong>元素</strong>，并将其赋值给变量 <code>language</code>。</p>
</blockquote>
<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Python</span><br><span class="line">Java</span><br><span class="line">C++</span><br><span class="line">Kotlin</span><br></pre></td></tr></table></figure>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>讲到这里，我们可以用列表的知识来重构“掷色子统计每种点数出现次数”的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">将一颗色子掷6000次，统计每种点数出现的次数</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">counters = [<span class="number">0</span>] * <span class="number">6</span></span><br><span class="line"><span class="comment"># 模拟掷色子记录每种点数出现的次数</span></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6000</span>):</span><br><span class="line">    face = random.randrange(<span class="number">1</span>, <span class="number">7</span>)</span><br><span class="line">    counters[face - <span class="number">1</span>] += <span class="number">1</span></span><br><span class="line"><span class="comment"># 输出每种点数出现的次数</span></span><br><span class="line"><span class="keyword">for</span> face <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">7</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;face&#125;</span>点出现了<span class="subst">&#123;counters[face - <span class="number">1</span>]&#125;</span>次&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>上面的代码中，我们用<code>counters</code>列表中的六个元素分别表示<code>1</code>到<code>6</code>点出现的次数，最开始的时候六个元素的值都是<code>0</code>。接下来，我们用<code>1</code>到<code>6</code>均匀分布的随机数模拟掷色子，如果摇出1点，<code>counters[0]</code>的值加<code>1</code>，如果摇出2点，<code>counters[1]</code>的值加<code>1</code>，以此类推。大家感受一下，由于使用了列表类型加上循环结构，我们对数据的处理是批量性的，这就使得修改后的代码比之前的代码要简单优雅得多。</p>
<h3 id="列表的方法"><a href="#列表的方法" class="headerlink" title="列表的方法"></a>列表的方法</h3><p>列表类型的变量拥有很多方法可以帮助我们操作一个列表，假设我们有名为<code>foos</code>的列表，列表有名为<code>bar</code>的方法，那么使用列表方法的语法是：<code>foos.bar()</code>，这是一种<strong>通过对象引用调用对象方法</strong>的语法。后面我们讲面向对象编程的时候，还会对这种语法进行详细的讲解，这种语法也称为给对象发消息。</p>
<h4 id="添加和删除元素"><a href="#添加和删除元素" class="headerlink" title="添加和删除元素"></a>添加和删除元素</h4><p>列表是一种可变容器，可变容器指的是我们可以向容器中添加元素、可以从容器移除元素，也可以修改现有容器中的元素。我们可以使用列表的<code>append</code>方法向列表中追加元素，使用<code>insert</code>方法向列表中插入元素。追加指的是将元素添加到列表的末尾，而插入则是在指定的位置添加新元素，大家可以看看下面的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">languages = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>]</span><br><span class="line">languages.append(<span class="string">&#x27;JavaScript&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(languages)  <span class="comment"># [&#x27;Python&#x27;, &#x27;Java&#x27;, &#x27;C++&#x27;, &#x27;JavaScript&#x27;]</span></span><br><span class="line">languages.insert(<span class="number">1</span>, <span class="string">&#x27;SQL&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(languages)  <span class="comment"># [&#x27;Python&#x27;, &#x27;SQL&#x27;, &#x27;Java&#x27;, &#x27;C++&#x27;, &#x27;JavaScript&#x27;]</span></span><br></pre></td></tr></table></figure>



<p>我们可以用列表的<code>remove</code>方法从列表中删除指定元素，需要注意的是，如果要删除的元素并不在列表中，会引发<code>ValueError</code>错误导致程序崩溃，所以建议大家<strong>在删除元素时，先用成员运算做一个判断。</strong>我们还可以使用<code>pop</code>方法从列表中删除元素，<code>pop</code>方法默认删除列表中的最后一个元素，当然也可以给一个位置，删除指定位置的元素。在使用<code>pop</code>方法删除元素时，如果索引的值超出了范围，会引发<code>IndexError</code>异常，导致程序崩溃。除此之外，列表还有一个<code>clear</code>方法，可以清空列表中的元素，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">languages = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;SQL&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;JavaScript&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;Java&#x27;</span> <span class="keyword">in</span> languages:</span><br><span class="line">    languages.remove(<span class="string">&#x27;Java&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;Swift&#x27;</span> <span class="keyword">in</span> languages:</span><br><span class="line">    languages.remove(<span class="string">&#x27;Swift&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(languages)  <span class="comment"># [&#x27;Python&#x27;, &#x27;SQL&#x27;, C++&#x27;, &#x27;JavaScript&#x27;]</span></span><br><span class="line">languages.pop()		<span class="comment">#&#x27;JavaScript&#x27;删除</span></span><br><span class="line">temp = languages.pop(<span class="number">1</span>)		<span class="comment">#&#x27;SQL&#x27;被删除，并加入到temp中</span></span><br><span class="line"><span class="built_in">print</span>(temp)       <span class="comment"># SQL</span></span><br><span class="line">languages.append(temp)</span><br><span class="line"><span class="built_in">print</span>(languages)  <span class="comment"># [&#x27;Python&#x27;, C++&#x27;, &#x27;SQL&#x27;]</span></span><br><span class="line">languages.clear()</span><br><span class="line"><span class="built_in">print</span>(languages)  <span class="comment"># []</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：<code>pop</code>方法删除元素时会得到被删除的元素，上面的代码中，我们将<code>pop</code>方法删除的元素赋值给了名为<code>temp</code>的变量。当然如果你愿意，还可以把这个元素再次加入到列表中，正如上面的代码<code>languages.append(temp)</code>所做的那样。</p>
</blockquote>
<blockquote>
<p><strong>注意：</strong>pop只会删除列表中的第一个元素。例如，若<code>languages</code>列表中有多个<code>&#39;Python&#39;</code>，那么<code>languages.remove(&#39;Python&#39;)</code>只会删除第一个<code>&#39;Python&#39;</code>。</p>
</blockquote>
<p>从列表中删除元素其实还有一种方式，就是使用 Python 中的<code>del</code>关键字后面跟要删除的元素，这种做法跟使用<code>pop</code>方法指定索引删除元素没有实质性的区别，但后者会返回删除的元素，前者在性能上略优，因为<code>del</code>对应的底层字节码指令是<code>DELETE_SUBSCR</code>，而<code>pop</code>对应的底层字节码指令是<code>CALL_METHOD</code>和<code>POP_TOP</code>，如果不理解就不用管它了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">items = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> items[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(items)  <span class="comment"># [&#x27;Python&#x27;, &#x27;C++&#x27;]</span></span><br></pre></td></tr></table></figure>



<h4 id="元素位置和频次"><a href="#元素位置和频次" class="headerlink" title="元素位置和频次"></a>元素位置和频次</h4><p>列表的<code>index</code>方法可以查找某个元素在列表中的索引位置，如果找不到指定的元素，<code>index</code>方法会引发<code>ValueError</code>错误；列表的<code>count</code>方法可以统计一个元素在列表中出现的次数，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">items = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(items.index(<span class="string">&#x27;Python&#x27;</span>))     <span class="comment"># 0</span></span><br><span class="line"><span class="comment"># 从索引位置1开始查找&#x27;Python&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(items.index(<span class="string">&#x27;Python&#x27;</span>, <span class="number">1</span>))  <span class="comment"># 5</span></span><br><span class="line"><span class="built_in">print</span>(items.count(<span class="string">&#x27;Python&#x27;</span>))     <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(items.count(<span class="string">&#x27;Kotlin&#x27;</span>))     <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(items.count(<span class="string">&#x27;Swfit&#x27;</span>))      <span class="comment"># 0</span></span><br><span class="line"><span class="comment"># 从索引位置3开始查找&#x27;Java&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(items.index(<span class="string">&#x27;Java&#x27;</span>, <span class="number">3</span>))    <span class="comment"># ValueError: &#x27;Java&#x27; is not in list</span></span><br></pre></td></tr></table></figure>

<h4 id="元素排序和反转"><a href="#元素排序和反转" class="headerlink" title="元素排序和反转"></a>元素排序和反转</h4><p>列表的<code>sort</code>操作可以实现列表元素的排序，而<code>reverse</code>操作可以实现元素的反转，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">items = [<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>]</span><br><span class="line">items.sort()</span><br><span class="line"><span class="built_in">print</span>(items)  <span class="comment"># [&#x27;C++&#x27;, &#x27;Java&#x27;, &#x27;Kotlin&#x27;, &#x27;Python&#x27;, &#x27;Swift&#x27;] 按照字母顺序排布</span></span><br><span class="line">items.reverse()</span><br><span class="line"><span class="built_in">print</span>(items)  <span class="comment"># [&#x27;Swift&#x27;, &#x27;Python&#x27;, &#x27;Kotlin&#x27;, &#x27;Java&#x27;, &#x27;C++&#x27;]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：<code>reverse</code>只是将元素排布进行反转，不是降序排布，降序排布为<code>.sort(reverse=True)</code>。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">my_list.sort()	<span class="comment"># 升序排序</span></span><br><span class="line"><span class="built_in">print</span>(my_list)  <span class="comment"># 输出: [1, 1, 2, 3, 3, 4, 5, 5, 5, 6, 9]</span></span><br><span class="line">my_list.sort(reverse=<span class="literal">True</span>)	<span class="comment">#降序排布</span></span><br><span class="line"><span class="built_in">print</span>(my_list)  <span class="comment"># 输出: [9, 6, 5, 5, 5, 4, 3, 3, 2, 1, 1]</span></span><br></pre></td></tr></table></figure>



<h3 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式"></a>列表生成式</h3><p>在 Python 中，列表还可以通过一种特殊的字面量语法来创建，这种语法叫做<strong>生成式</strong>。通用形式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[expression <span class="keyword">for</span> item <span class="keyword">in</span> iterable <span class="keyword">if</span> condition]</span><br></pre></td></tr></table></figure>

<p>下面，我们通过例子来说明使用列表生成式创建列表到底有什么好处。</p>
<p>场景一：创建一个取值范围在<code>1</code>到<code>99</code>且能被<code>3</code>或者<code>5</code>整除的数字构成的列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">items = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">100</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">or</span> i % <span class="number">5</span> == <span class="number">0</span>:</span><br><span class="line">        items.append(i)</span><br><span class="line"><span class="built_in">print</span>(items)</span><br></pre></td></tr></table></figure>

<p>使用列表生成式做同样的事情，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">items = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">100</span>) <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">or</span> i % <span class="number">5</span> == <span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(items)</span><br></pre></td></tr></table></figure>



<p>场景二：有一个整数列表<code>nums1</code>，创建一个新的列表<code>nums2</code>，<code>nums2</code>中的元素是<code>nums1</code>中对应元素的平方。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">35</span>, <span class="number">12</span>, <span class="number">97</span>, <span class="number">64</span>, <span class="number">55</span>]</span><br><span class="line">nums2 = []</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> nums1:</span><br><span class="line">    nums2.append(num ** <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(nums2)</span><br></pre></td></tr></table></figure>

<p>使用列表生成式做同样的事情，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">35</span>, <span class="number">12</span>, <span class="number">97</span>, <span class="number">64</span>, <span class="number">55</span>]</span><br><span class="line">nums2 = [num ** <span class="number">2</span> <span class="keyword">for</span> num <span class="keyword">in</span> nums1]</span><br><span class="line"><span class="built_in">print</span>(nums2)</span><br></pre></td></tr></table></figure>



<p>场景三： 有一个整数列表<code>nums1</code>，创建一个新的列表<code>nums2</code>，将<code>nums1</code>中大于<code>50</code>的元素放到<code>nums2</code>中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">35</span>, <span class="number">12</span>, <span class="number">97</span>, <span class="number">64</span>, <span class="number">55</span>]</span><br><span class="line">nums2 = []</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> nums1:</span><br><span class="line">    <span class="keyword">if</span> num &gt; <span class="number">50</span>:</span><br><span class="line">        nums2.append(num)</span><br><span class="line"><span class="built_in">print</span>(nums2)</span><br></pre></td></tr></table></figure>

<p>使用列表生成式做同样的事情，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">35</span>, <span class="number">12</span>, <span class="number">97</span>, <span class="number">64</span>, <span class="number">55</span>]</span><br><span class="line">nums2 = [num <span class="keyword">for</span> num <span class="keyword">in</span> nums1 <span class="keyword">if</span> num &gt; <span class="number">50</span>]</span><br><span class="line"><span class="built_in">print</span>(nums2)</span><br></pre></td></tr></table></figure>

<p>使用列表生成式创建列表不仅代码简单优雅，而且性能上也优于使用<code>for-in</code>循环和<code>append</code>方法向空列表中追加元素的方式。为什么说生成式有更好的性能呢，那是因为 Python 解释器的字节码指令中有专门针对生成式的指令（<code>LIST_APPEND</code>指令）；而<code>for</code>循环是通过方法调用（<code>LOAD_METHOD</code>和<code>CALL_METHOD</code>指令）的方式为列表添加元素，方法调用本身就是一个相对比较耗时的操作。对这一点不理解也没有关系，记住“<strong>强烈建议用生成式语法来创建列表</strong>”这个结论就可以了。</p>
<h3 id="嵌套列表"><a href="#嵌套列表" class="headerlink" title="嵌套列表"></a>嵌套列表</h3><p>Python 语言没有限定列表中的元素必须是相同的数据类型，也就是说一个列表中的元素可以任意的数据类型，当然也包括列表本身。如果列表中的元素也是列表，那么我们可以称之为嵌套的列表。</p>
<p>嵌套的列表可以用来表示表格或数学上的矩阵，例如：我们想保存5个学生3门课程的成绩，可以用如下所示的列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scores = [[<span class="number">95</span>, <span class="number">83</span>, <span class="number">92</span>], [<span class="number">80</span>, <span class="number">75</span>, <span class="number">82</span>], [<span class="number">92</span>, <span class="number">97</span>, <span class="number">90</span>], [<span class="number">80</span>, <span class="number">78</span>, <span class="number">69</span>], [<span class="number">65</span>, <span class="number">66</span>, <span class="number">89</span>]]</span><br><span class="line"><span class="built_in">print</span>(scores[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(scores[<span class="number">0</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>对于上面的嵌套列表，每个元素相当于就是一个学生3门课程的成绩，例如<code>[95, 83, 92]</code>，而这个列表中的<code>83</code>代表了这个学生某一门课的成绩，如果想访问这个值，可以使用两次索引运算<code>scores[0][1]</code>，其中<code>scores[0]</code>可以得到<code>[95, 83, 92]</code>这个列表，再次使用索引运算<code>[1]</code>就可以获得该列表中的第二个元素。</p>
<p>如果想通过键盘输入的方式来录入5个学生3门课程的成绩并保存在列表中，可以使用如下所示的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scores = []</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    temp = []</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        score = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入: &#x27;</span>))</span><br><span class="line">        temp.append(score)</span><br><span class="line">    scores.append(temp)</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br></pre></td></tr></table></figure>

<p>如果想通过产生随机数的方式来生成5个学生3门课程的成绩并保存在列表中，我们可以使用列表生成式，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">scores = [[random.randrange(<span class="number">60</span>, <span class="number">101</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面的代码<code>[random.randrange(60, 101) for _ in range(3)] </code>可以产生由3个随机整数构成的列表，我们把这段代码又放在了另一个列表生成式中作为列表的元素，这样的元素一共生成5个，最终得到了一个嵌套列表。</p>
</blockquote>
<h3 id="列表应用举例"><a href="#列表应用举例" class="headerlink" title="列表应用举例"></a>列表应用举例</h3><p>下面我们通过一个双色球随机选号的例子为大家讲解列表的应用。双色球是由中国福利彩票发行管理中心发售的乐透型彩票，每注投注号码由<code>6</code>个红色球和<code>1</code>个蓝色球组成。红色球号码从<code>1</code>到<code>33</code>中选择，蓝色球号码从<code>1</code>到<code>16</code>中选择。每注需要选择<code>6</code>个红色球号码和<code>1</code>个蓝色球号码，如下所示。</p>
<p><img src="C:\Users\lili\Desktop\Python_exercise\lottery.png" alt="lottery"></p>
<p>下面，我们通过 Python 程序来生成一组随机号码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">双色球随机选号程序</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">red_balls = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">34</span>))</span><br><span class="line">selected_balls = []</span><br><span class="line"><span class="comment"># 添加6个红色球到选中列表</span></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    <span class="comment"># 生成随机整数代表选中的红色球的索引位置</span></span><br><span class="line">    index = random.randrange(<span class="built_in">len</span>(red_balls))</span><br><span class="line">    <span class="comment"># 将选中的球从红色球列表中移除并添加到选中列表</span></span><br><span class="line">    selected_balls.append(red_balls.pop(index))</span><br><span class="line"><span class="comment"># 对选中的红色球排序</span></span><br><span class="line">selected_balls.sort()</span><br><span class="line"><span class="comment"># 输出选中的红色球</span></span><br><span class="line"><span class="keyword">for</span> ball <span class="keyword">in</span> selected_balls:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;\033[031m<span class="subst">&#123;ball:<span class="number">0</span>&gt;2d&#125;</span>\033[0m&#x27;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 随机选择1个蓝色球</span></span><br><span class="line">blue_ball = random.randrange(<span class="number">1</span>, <span class="number">17</span>)</span><br><span class="line"><span class="comment"># 输出选中的蓝色球</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;\033[034m<span class="subst">&#123;blue_ball:<span class="number">0</span>&gt;2d&#125;</span>\033[0m&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面代码中<code>print(f&#39;\033[0m...\033[0m&#39;)</code>是为了控制输出内容的颜色，红色球输出成红色，蓝色球输出成蓝色。其中省略号代表我们要输出的内容，<code>\033[0m</code>是一个控制码，表示关闭所有属性，也就是说之前的控制码将会失效，你也可以将其简单的理解为一个定界符，<code>m</code>前面的<code>0</code>表示控制台的显示方式为默认值，<code>0</code>可以省略，<code>1</code>表示高亮，<code>5</code>表示闪烁，<code>7</code>表示反显等。在<code>0</code>和<code>m</code>的中间，我们可以写上代表颜色的数字，比如<code>30</code>代表黑色，<code>31</code>代表红色，<code>32</code>代表绿色，<code>33</code>代表黄色，<code>34</code>代表蓝色等。</p>
</blockquote>
<p>我们还可以利用<code>random</code>模块提供的<code>sample</code>和<code>choice</code>函数来简化上面的代码，前者可以实现无放回随机抽样，后者可以实现随机抽取一个元素，修改后的代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">双色球随机选号程序</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">red_balls = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">34</span>)]</span><br><span class="line">blue_balls = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">17</span>)]</span><br><span class="line"><span class="comment"># 从红色球列表中随机抽出6个红色球（无放回抽样）</span></span><br><span class="line">selected_balls = random.sample(red_balls, <span class="number">6</span>)</span><br><span class="line"><span class="comment"># 对选中的红色球排序</span></span><br><span class="line">selected_balls.sort()</span><br><span class="line"><span class="comment"># 输出选中的红色球</span></span><br><span class="line"><span class="keyword">for</span> ball <span class="keyword">in</span> selected_balls:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;\033[031m<span class="subst">&#123;ball:<span class="number">0</span>&gt;2d&#125;</span>\033[0m&#x27;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 从蓝色球列表中随机抽出1个蓝色球</span></span><br><span class="line">blue_ball = random.choice(blue_balls)</span><br><span class="line"><span class="comment"># 输出选中的蓝色球</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;\033[034m<span class="subst">&#123;blue_ball:<span class="number">0</span>&gt;2d&#125;</span>\033[0m&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>对于**<code>print(f&#39;\033[031m&#123;ball:0&gt;2d&#125;\033[0m&#39;, end=&#39; &#39;)</code>**</p>
<ul>
<li><code>\033[031m</code> 是 ANSI 转义码，用于设置终端文本的颜色。<code>\033[031m</code> 将文本颜色设置为红色。</li>
<li><code>&#123;ball:0&gt;2d&#125;</code>是格式化部分：<ul>
<li><code>ball</code> 是当前要打印的球的数值。</li>
<li><code>0&gt;2d</code> 格式说明符表示用两位数字表示球的数值，不足两位时在左侧填充 <code>0</code>，例如，<code>1</code> 将被打印为 <code>01</code>。</li>
</ul>
</li>
<li><code>\033[0m</code> 是 ANSI 转义码，用于重置终端文本颜色到默认状态。</li>
<li><code>end=&#39; &#39;</code> 参数指定打印后不换行，而是以一个空格结束。</li>
</ul>
<p>如果要实现随机生成<code>N</code>注号码，我们只需要将上面的代码放到一个<code>N</code>次的循环中，如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">双色球随机选号程序</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;生成几注号码: &#x27;</span>))</span><br><span class="line">red_balls = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">34</span>)]</span><br><span class="line">blue_balls = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">17</span>)]</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="comment"># 从红色球列表中随机抽出6个红色球（无放回抽样）</span></span><br><span class="line">    selected_balls = random.sample(red_balls, <span class="number">6</span>)</span><br><span class="line">    <span class="comment"># 对选中的红色球排序</span></span><br><span class="line">    selected_balls.sort()</span><br><span class="line">    <span class="comment"># 输出选中的红色球</span></span><br><span class="line">    <span class="keyword">for</span> ball <span class="keyword">in</span> selected_balls:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;\033[031m<span class="subst">&#123;ball:<span class="number">0</span>&gt;2d&#125;</span>\033[0m&#x27;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    <span class="comment"># 从蓝色球列表中随机抽出1个蓝色球</span></span><br><span class="line">    blue_ball = random.choice(blue_balls)</span><br><span class="line">    <span class="comment"># 输出选中的蓝色球</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;\033[034m<span class="subst">&#123;blue_ball:<span class="number">0</span>&gt;2d&#125;</span>\033[0m&#x27;</span>)</span><br></pre></td></tr></table></figure>





<h2 id="数据结构——元组"><a href="#数据结构——元组" class="headerlink" title="数据结构——元组"></a>数据结构——元组</h2><h3 id="元组的定义和运算"><a href="#元组的定义和运算" class="headerlink" title="元组的定义和运算"></a>元组的定义和运算</h3><p>在 Python 中，元组也是多个元素按照一定顺序构成的序列。元组和列表的不同之处在于，<strong>元组是不可变类型</strong>，这就意味着元组类型的变量一旦定义，其中的元素不能再添加或删除，而且元素的值也不能修改。如果试图修改元组中的元素，将引发<code>TypeError</code>错误，导致程序崩溃。定义元组通常使用形如<code>(x, y, z)</code>的字面量语法，元组类型支持的运算符跟列表是一样的，我们可以看看下面的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个三元组</span></span><br><span class="line">t1 = (<span class="number">35</span>, <span class="number">12</span>, <span class="number">98</span>)</span><br><span class="line"><span class="comment"># 定义一个四元组</span></span><br><span class="line">t2 = (<span class="string">&#x27;骆昊&#x27;</span>, <span class="number">43</span>, <span class="literal">True</span>, <span class="string">&#x27;四川成都&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看变量的类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t1))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t2))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看元组中元素的数量</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(t1))  <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(t2))  <span class="comment"># 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引运算</span></span><br><span class="line"><span class="built_in">print</span>(t1[<span class="number">0</span>])    <span class="comment"># 35</span></span><br><span class="line"><span class="built_in">print</span>(t1[<span class="number">2</span>])    <span class="comment"># 98</span></span><br><span class="line"><span class="built_in">print</span>(t2[-<span class="number">1</span>])   <span class="comment"># 四川成都</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片运算</span></span><br><span class="line"><span class="built_in">print</span>(t2[:<span class="number">2</span>])   <span class="comment"># (&#x27;骆昊&#x27;, 43)</span></span><br><span class="line"><span class="built_in">print</span>(t2[::<span class="number">3</span>])  <span class="comment"># (&#x27;骆昊&#x27;, &#x27;四川成都&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环遍历元组中的元素</span></span><br><span class="line"><span class="keyword">for</span> elem <span class="keyword">in</span> t1:</span><br><span class="line">    <span class="built_in">print</span>(elem)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 成员运算</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">12</span> <span class="keyword">in</span> t1)         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">99</span> <span class="keyword">in</span> t1)         <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hao&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> t2)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拼接运算</span></span><br><span class="line">t3 = t1 + t2</span><br><span class="line"><span class="built_in">print</span>(t3)  <span class="comment"># (35, 12, 98, &#x27;骆昊&#x27;, 43, True, &#x27;四川成都&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较运算</span></span><br><span class="line"><span class="built_in">print</span>(t1 == t3)            <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(t1 &gt;= t3)            <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(t1 &lt;= (<span class="number">35</span>, <span class="number">11</span>, <span class="number">99</span>))  <span class="comment"># False</span></span><br></pre></td></tr></table></figure>

<p>一个元组中如果有两个元素，我们就称之为二元组；一个元组中如果五个元素，我们就称之为五元组。需要提醒大家注意的是，<code>()</code>表示空元组，但是如果元组中只有一个元素，需要加上一个逗号，否则<code>()</code>就不是代表元组的字面量语法，而是改变运算优先级的圆括号，所以<code>(&#39;hello&#39;, )</code>和<code>(100, )</code>才是一元组，而<code>(&#39;hello&#39;)</code>和<code>(100)</code>只是字符串和整数。我们可以通过下面的代码来加以验证。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = ()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line">b = (<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))  <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line">c = (<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(c))  <span class="comment"># &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line">d = (<span class="string">&#x27;hello&#x27;</span>, )</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(d))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line">e = (<span class="number">100</span>, )</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(e))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="打包和解包操作"><a href="#打包和解包操作" class="headerlink" title="打包和解包操作"></a>打包和解包操作</h3><p>当我们把多个用逗号分隔的值赋给一个变量时，多个值会打包成一个元组类型；当我们把一个元组赋值给多个变量时，元组会解包成多个值然后分别赋给对应的变量，如下面的代码所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打包操作</span></span><br><span class="line">a = <span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(a)        <span class="comment"># (1, 10, 100)</span></span><br><span class="line"><span class="comment"># 解包操作</span></span><br><span class="line">i, j, k = a</span><br><span class="line"><span class="built_in">print</span>(i, j, k)  <span class="comment"># 1 10 100</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：当你使用逗号分隔多个值并将它们赋给一个变量时，Python 会自动将这些值打包成一个元组。这种行为是一个方便的特性，称为隐式元组打包（implicit tuple packing）。</p>
</blockquote>
<p>在解包时，如果解包出来的元素个数和变量个数不对应，会引发<code>ValueError</code>异常，错误信息为：<code>too many values to unpack</code>（解包的值太多）或<code>not enough values to unpack</code>（解包的值不足）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">1000</span></span><br><span class="line"><span class="comment"># i, j, k = a             # ValueError: too many values to unpack (expected 3)</span></span><br><span class="line"><span class="comment"># i, j, k, l, m, n = a    # ValueError: not enough values to unpack (expected 6, got 4)</span></span><br></pre></td></tr></table></figure>

<p>有一种解决变量个数少于元素的个数方法，就是使用星号表达式。<strong>通过星号表达式，我们可以让一个变量接收多个值</strong>，代码如下所示。需要注意两点：首先，用星号表达式修饰的变量会变成一个<strong>列表</strong>，列表中有0个或多个元素；其次，在解包语法中，<strong>星号表达式只能出现一次</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">1000</span></span><br><span class="line">i, j, *k = a</span><br><span class="line"><span class="built_in">print</span>(i, j, k)        <span class="comment"># 1 10 [100, 1000]</span></span><br><span class="line">i, *j, k = a</span><br><span class="line"><span class="built_in">print</span>(i, j, k)        <span class="comment"># 1 [10, 100] 1000</span></span><br><span class="line">*i, j, k = a</span><br><span class="line"><span class="built_in">print</span>(i, j, k)        <span class="comment"># [1, 10] 100 1000</span></span><br><span class="line">*i, j = a</span><br><span class="line"><span class="built_in">print</span>(i, j)           <span class="comment"># [1, 10, 100] 1000</span></span><br><span class="line">i, *j = a</span><br><span class="line"><span class="built_in">print</span>(i, j)           <span class="comment"># 1 [10, 100, 1000]</span></span><br><span class="line">i, j, k, *l = a</span><br><span class="line"><span class="built_in">print</span>(i, j, k, l)     <span class="comment"># 1 10 100 [1000]</span></span><br><span class="line">i, j, k, l, *m = a</span><br><span class="line"><span class="built_in">print</span>(i, j, k, l, m)  <span class="comment"># 1 10 100 1000 []</span></span><br></pre></td></tr></table></figure>

<p>需要说明一点，解包语法对所有的序列都成立，这就意味着我们之前讲的列表、<code>range</code>函数构造的范围序列甚至字符串都可以使用解包语法。大家可以尝试运行下面的代码，看看会出现怎样的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a, b, *c = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a, b, c)</span><br><span class="line">a, b, c = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>]</span><br><span class="line"><span class="built_in">print</span>(a, b, c)</span><br><span class="line">a, *b, c = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a, b, c)</span><br></pre></td></tr></table></figure>

<p>结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 2 [3, 4, 5, 6, 7, 8, 9]</span><br><span class="line">1 10 100</span><br><span class="line">h [&#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;] o</span><br></pre></td></tr></table></figure>

<h3 id="交换变量的值"><a href="#交换变量的值" class="headerlink" title="交换变量的值"></a>交换变量的值</h3><p>交换变量的值是写代码时经常用到的一个操作，但是在很多编程语言中，交换两个变量的值都需要借助一个中间变量才能做到，如果不用中间变量就需要使用比较晦涩的位运算来实现。在 Python 中，交换两个变量<code>a</code>和<code>b</code>的值只需要使用如下所示的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b = b, a</span><br></pre></td></tr></table></figure>

<p>同理，如果要将三个变量<code>a</code>、<code>b</code>、<code>c</code>的值互换，即<code>b</code>的值赋给<code>a</code>，<code>c</code>的值赋给<code>b</code>，<code>a</code>的值赋给<code>c</code>，也可以如法炮制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = b, c, a</span><br></pre></td></tr></table></figure>

<p>需要说明的是，上面的操作并没有用到打包和解包语法，Python 的字节码指令中有<code>ROT_TWO</code>和<code>ROT_THREE</code>这样的指令可以直接实现这个操作，效率是非常高的。但是如果有多于三个变量的值要依次互换，这个时候是没有直接可用的字节码指令的，需要通过打包解包的方式来完成变量之间值的交换。</p>
<h3 id="元组和列表的比较"><a href="#元组和列表的比较" class="headerlink" title="元组和列表的比较"></a>元组和列表的比较</h3><p>这里还有一个非常值得探讨的问题，Python 中已经有了列表类型，为什么还需要元组这样的类型呢？</p>
<ol>
<li><p>元组是不可变类型，<strong>不可变类型更适合多线程环境</strong>，因为它降低了并发访问变量的同步化开销。关于这一点，我们会在后面讲解并发编程的时候跟大家一起探讨。</p>
</li>
<li><p>元组是不可变类型，通常<strong>不可变类型在创建时间上优于对应的可变类型</strong>。我们可以使用<code>timeit</code>模块的<code>timeit</code>函数来看看创建保存相同元素的元组和列表各自花费的时间，<code>timeit</code>函数的<code>number</code>参数表示代码执行的次数。下面的代码中，我们分别创建了保存<code>1</code>到<code>9</code>的整数的列表和元组，每个操作执行<code>10000000</code>次，统计运行时间。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import timeit</span><br><span class="line"></span><br><span class="line">print(&#x27;%.3f 秒&#x27; % timeit.timeit(&#x27;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#x27;, number=10000000))</span><br><span class="line">print(&#x27;%.3f 秒&#x27; % timeit.timeit(&#x27;(1, 2, 3, 4, 5, 6, 7, 8, 9)&#x27;, number=10000000))</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0.635 秒</span><br><span class="line">0.078 秒</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面代码的执行结果因软硬件系统而异，在我目前使用的电脑上，执行<code>10000000</code>次创建列表的操作时间是<code>0.635</code>秒，而执行<code>10000000</code>次创建元组的操作时间是<code>0.078</code>秒，显然创建元组更快且二者时间上有数量级的差别。</p>
</blockquote>
</li>
</ol>
<p>当然，Python 中的元组和列表类型是可以相互转换的，我们可以通过下面的代码来完成该操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">infos = (<span class="string">&#x27;李华&#x27;</span>, <span class="number">43</span>, <span class="literal">True</span>, <span class="string">&#x27;四川成都&#x27;</span>)</span><br><span class="line"><span class="comment"># 将元组转换成列表</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(infos))  <span class="comment"># [&#x27;李华&#x27;, 43, True, &#x27;四川成都&#x27;]</span></span><br><span class="line"></span><br><span class="line">frts = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>]</span><br><span class="line"><span class="comment"># 将列表转换成元组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(frts))  <span class="comment"># (&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;orange&#x27;)</span></span><br></pre></td></tr></table></figure>

<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p><strong>列表和元组都是容器型的数据类型</strong>，即一个变量可以保存多个数据，而且它们都是按一定顺序组织元素的有序容器。<strong>列表是可变数据类型</strong>，<strong>元组是不可变数据类型</strong>，所以列表可以添加元素、删除元素、清空元素、排序反转，但这些操作对元组来说是不成立的。列表和元组都可以支持<strong>拼接运算</strong>、<strong>成员运算</strong>、<strong>索引运算</strong>、<strong>切片运算</strong>等操作，后面我们要讲到的字符串类型也支持这些运算，因为字符串就是字符按一定顺序构成的序列，在这一点上三者并没有什么区别。我们<strong>推荐大家使用列表的生成式语法来创建列表</strong>，它不仅好用而且效率很高，是 Python 语言中非常有特色的语法。</p>
<h2 id="数据结构——字符串"><a href="#数据结构——字符串" class="headerlink" title="数据结构——字符串"></a>数据结构——字符串</h2><p>随着时间的推移，虽然数值运算仍然是计算机日常工作中最为重要的组成部分，但是今天的计算机还要处理大量的以文本形式存在的信息。如果我们希望通过 Python 程序来操作本这些文本信息，就必须要先了解字符串这种数据类型以及与它相关的运算和方法。</p>
<h3 id="字符串的定义"><a href="#字符串的定义" class="headerlink" title="字符串的定义"></a>字符串的定义</h3><p>所谓<strong>字符串</strong>，就是<strong>由零个或多个字符组成的有限序列</strong>，一般记为： $$ s &#x3D; a_1a_2 \cdots a_n ,,,,, (0 \le n \le \infty) $$ 在 Python 程序中，我们把单个或多个字符用单引号或者双引号包围起来，就可以表示一个字符串。字符串中的字符可以是特殊符号、英文字母、中文字符、日文的平假名或片假名、希腊字母、Emoji 字符（如：💩、🐷、🀄️）等。注意，<strong>字符串为不可变数据类型。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello, world!&#x27;</span></span><br><span class="line">s2 = <span class="string">&quot;你好，世界！❤️&quot;</span></span><br><span class="line">s3 = <span class="string">&#x27;&#x27;&#x27;hello,</span></span><br><span class="line"><span class="string">wonderful</span></span><br><span class="line"><span class="string">world!&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"><span class="built_in">print</span>(s3)</span><br></pre></td></tr></table></figure>

<h4 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h4><p>我们可以在字符串中使用<code>\</code>（反斜杠）来表示转义，也就是说<code>\</code>后面的字符不再是它原来的意义，例如：<code>\n</code>不是代表字符<code>\</code>和字符<code>n</code>，而是表示<strong>换行</strong>；<code>\t</code>也不是代表字符<code>\</code>和字符<code>t</code>，而是表示<strong>制表符</strong>。所以如果字符串本身又包含了<code>&#39;</code>、<code>&quot;</code>、<code>\</code>这些特殊的字符，必须要通过<code>\</code>进行转义处理。例如要输出一个带单引号或反斜杠的字符串，需要用如下所示的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;换行符: Hello\nWorld&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;水平制表符: Hello\tWorld&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;反斜杠: C:\\Program Files\\&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;单引号: It\&#x27;s a test.&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;双引号: He said, \&quot;Hello.\&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;回车符: Hello\rWorld&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;退格符: Hello\bWorld&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;换页符: Hello\fWorld&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;空字符: Hello\0World&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Unicode 字符: \u4F60\u597D&quot;</span>)  <span class="comment"># 你好</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;八进制字符: \101\102\103&quot;</span>)  <span class="comment"># ABC</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;十六进制字符: \x41\x42\x43&quot;</span>)  <span class="comment"># ABC</span></span><br></pre></td></tr></table></figure>

<h4 id="原始字符串"><a href="#原始字符串" class="headerlink" title="原始字符串"></a>原始字符串</h4><p>Python 中有一种以<code>r</code>或<code>R</code>开头的字符串，这种字符串被称为原始字符串，意思是字符串中的每个字符都是它本来的含义，没有所谓的转义字符。例如，在字符串<code>&#39;hello\n&#39;</code>中，<code>\n</code>表示换行；而在<code>r&#39;hello\n&#39;</code>中，<code>\n</code>不再表示换行，就是字符<code>\</code>和字符<code>n</code>。大家可以运行下面的代码，看看会输出什么。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;it is \time \to \read \now&#x27;</span></span><br><span class="line">s2 = <span class="string">r&#x27;\it \is \time \to \read \now&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面的变量<code>s1</code>中，<code>\t</code>、<code>\r</code>和<code>\n</code>都是转义字符。<code>\t</code>是制表符（table），<code>\n</code>是换行符（new line），<code>\r</code>是回车符（carriage return）相当于让输出回到了行首。对比一下两个<code>print</code>函数的输出，看看到底有什么区别！</p>
</blockquote>
<h4 id="字符的特殊表示"><a href="#字符的特殊表示" class="headerlink" title="字符的特殊表示"></a>字符的特殊表示</h4><p>Python 中还允许在<code>\</code>后面还可以跟一个八进制或者十六进制数来表示字符，例如<code>\141</code>和<code>\x61</code>都代表小写字母<code>a</code>，前者是八进制的表示法，后者是十六进制的表示法。另外一种表示字符的方式是在<code>\u</code>后面跟 Unicode 字符编码，例如<code>\u674E\u5353</code>代表的是中文“李卓”。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;\141\142\143\x61\x62\x63&#x27;</span></span><br><span class="line">s2 = <span class="string">&#x27;\u674E\u5353&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br></pre></td></tr></table></figure>



<h3 id="字符串的运算"><a href="#字符串的运算" class="headerlink" title="字符串的运算"></a>字符串的运算</h3><p>Python 语言为字符串类型提供了非常丰富的运算符，有很多运算符跟列表类型的运算符作用类似。例如，我们可以使用<code>+</code>运算符来实现字符串的拼接，可以使用<code>*</code>运算符来重复一个字符串的内容，可以使用<code>in</code>和<code>not in</code>来判断一个字符串是否包含另外一个字符串，我们也可以用<code>[]</code>和<code>[:]</code>运算符从字符串取出某个字符或某些字符。</p>
<h4 id="拼接和重复"><a href="#拼接和重复" class="headerlink" title="拼接和重复"></a>拼接和重复</h4><p>下面的例子演示了使用<code>+</code>和<code>*</code>运算符来实现字符串的拼接和重复操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello&#x27;</span> + <span class="string">&#x27;, &#x27;</span> + <span class="string">&#x27;world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1)    <span class="comment"># hello, world</span></span><br><span class="line">s2 = <span class="string">&#x27;!&#x27;</span> * <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(s2)    <span class="comment"># !!!</span></span><br><span class="line">s1 += s2</span><br><span class="line"><span class="built_in">print</span>(s1)    <span class="comment"># hello, world!!!</span></span><br><span class="line">s1 *= <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(s1)    <span class="comment"># hello, world!!!hello, world!!!</span></span><br></pre></td></tr></table></figure>

<p>用<code>*</code>实现字符串的重复是非常有意思的一个运算符，在很多编程语言中，要表示一个有10个<code>a</code>的字符串，你只能写成<code>&#39;aaaaaaaaaa&#39;</code>，但是在 Python 中，你可以写成<code>&#39;a&#39; * 10</code>。你可能觉得<code>&#39;aaaaaaaaaa&#39;</code>这种写法也没有什么不方便的，但是请想一想，如果字符<code>a</code>要重复100次或者1000次又会如何呢？</p>
<h4 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h4><p>对于两个字符串类型的变量，可以直接使用比较运算符来判断两个字符串的相等性或比较大小。需要说明的是，因为字符串在计算机内存中也是以二进制形式存在的，那么字符串的大小比较比的是每个字符对应的编码的大小。例如<code>A</code>的编码是<code>65</code>， 而<code>a</code>的编码是<code>97</code>，所以<code>&#39;A&#39; &lt; &#39;a&#39;</code>的结果相当于就是<code>65 &lt; 97</code>的结果，这里很显然是<code>True</code>；而<code>&#39;boy&#39; &lt; &#39;bad&#39;</code>，因为第一个字符都是<code>&#39;b&#39;</code>比不出大小，所以实际比较的是第二个字符的大小，显然<code>&#39;o&#39; &lt; &#39;a&#39;</code>的结果是<code>False</code>，所以<code>&#39;boy&#39; &lt; &#39;bad&#39;</code>的结果是<code>False</code>。如果不清楚两个字符对应的编码到底是多少，可以使用<code>ord</code>函数来获得，之前我们有提到过这个函数。例如<code>ord(&#39;A&#39;)</code>的值是<code>65</code>，而<code>ord(&#39;昊&#39;)</code>的值是<code>26122</code>。下面的代码展示了字符串的比较运算，请大家仔细看看。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;a whole new world&#x27;</span></span><br><span class="line">s2 = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1 == s2)             <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s1 &lt; s2)              <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s1 == <span class="string">&#x27;hello world&#x27;</span>)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s2 == <span class="string">&#x27;hello world&#x27;</span>)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s2 != <span class="string">&#x27;Hello World&#x27;</span>)  <span class="comment"># True</span></span><br><span class="line">s3 = <span class="string">&#x27;李卓&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;李&#x27;</span>))            <span class="comment"># 26446</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;卓&#x27;</span>))            <span class="comment"># 21331</span></span><br><span class="line">s4 = <span class="string">&#x27;王大锤&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;王&#x27;</span>))            <span class="comment"># 29579</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;大&#x27;</span>))            <span class="comment"># 22823</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&#x27;锤&#x27;</span>))            <span class="comment"># 38180</span></span><br><span class="line"><span class="built_in">print</span>(s3 &gt;= s4)             <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s3 != s4)             <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<h4 id="成员运算"><a href="#成员运算" class="headerlink" title="成员运算"></a>成员运算</h4><p>Python 中可以用<code>in</code>和<code>not in</code>判断一个字符串中是否包含另外一个字符或字符串，跟列表类型一样，<code>in</code>和<code>not in</code>称为成员运算符，会产生布尔值<code>True</code>或<code>False</code>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello, world&#x27;</span></span><br><span class="line">s2 = <span class="string">&#x27;goodbye, world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;wo&#x27;</span> <span class="keyword">in</span> s1)      <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;wo&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> s2)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s2 <span class="keyword">in</span> s1)        <span class="comment"># False</span></span><br></pre></td></tr></table></figure>

<h4 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a>获取字符串长度</h4><p>获取字符串长度跟获取列表元素个数一样，使用内置函数<code>len</code>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello, world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(s))                 <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(<span class="string">&#x27;goodbye, world&#x27;</span>))  <span class="comment"># 14</span></span><br></pre></td></tr></table></figure>

<h4 id="索引和切片"><a href="#索引和切片" class="headerlink" title="索引和切片"></a>索引和切片</h4><p>字符串的索引和切片操作跟列表几乎无区别，因为字符串也是一种有序序列，可以通过正向或反向的整数索引访问其中的元素。但是有一点需要注意，因为<strong>字符串是不可变类型</strong>，所以<strong>不能通过索引运算修改字符串中的字符</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc123456&#x27;</span></span><br><span class="line">n = <span class="built_in">len</span>(s)</span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">0</span>], s[-n])    <span class="comment"># a a</span></span><br><span class="line"><span class="built_in">print</span>(s[n-<span class="number">1</span>], s[-<span class="number">1</span>])  <span class="comment"># 6 6</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">2</span>], s[-<span class="number">7</span>])    <span class="comment"># c c</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">5</span>], s[-<span class="number">4</span>])    <span class="comment"># 3 3</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">2</span>:<span class="number">5</span>])         <span class="comment"># c12</span></span><br><span class="line"><span class="built_in">print</span>(s[-<span class="number">7</span>:-<span class="number">4</span>])       <span class="comment"># c12</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">2</span>:])          <span class="comment"># c123456</span></span><br><span class="line"><span class="built_in">print</span>(s[:<span class="number">2</span>])          <span class="comment"># ab</span></span><br><span class="line"><span class="built_in">print</span>(s[::<span class="number">2</span>])         <span class="comment"># ac246</span></span><br><span class="line"><span class="built_in">print</span>(s[::-<span class="number">1</span>])        <span class="comment"># 654321cba</span></span><br></pre></td></tr></table></figure>

<p>需要再次提醒大家注意的是，在进行索引运算时，如果索引越界，会引发<code>IndexError</code>异常，错误提示信息为：<code>string index out of range</code>（字符串索引超出范围）。</p>
<h3 id="字符的遍历"><a href="#字符的遍历" class="headerlink" title="字符的遍历"></a>字符的遍历</h3><p>如果希望遍历字符串中的每个字符，可以使用<code>for-in</code>循环，有如下所示的两种方式。</p>
<p>方式一：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">    <span class="built_in">print</span>(s[i])</span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">for</span> elem <span class="keyword">in</span> s:</span><br><span class="line">    <span class="built_in">print</span>(elem)</span><br></pre></td></tr></table></figure>



<h3 id="字符串的方法"><a href="#字符串的方法" class="headerlink" title="字符串的方法"></a>字符串的方法</h3><p>在 Python 中，我们可以通过字符串类型自带的方法对字符串进行操作和处理，假设我们有名为<code>foo</code>的字符串，字符串有名为<code>bar</code>的方法，那么使用字符串方法的语法是：<code>foo.bar()</code>，这是一种通过对象引用调用对象方法的语法，跟前面使用列表方法的语法是一样的。</p>
<h4 id="大小写相关操作"><a href="#大小写相关操作" class="headerlink" title="大小写相关操作"></a>大小写相关操作</h4><p>下面的代码演示了和字符串大小写变换相关的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello, world!&#x27;</span></span><br><span class="line"><span class="comment"># 字符串首字母大写</span></span><br><span class="line"><span class="built_in">print</span>(s1.capitalize())  <span class="comment"># Hello, world!</span></span><br><span class="line"><span class="comment"># 字符串每个单词首字母大写</span></span><br><span class="line"><span class="built_in">print</span>(s1.title())       <span class="comment"># Hello, World!</span></span><br><span class="line"><span class="comment"># 字符串变大写</span></span><br><span class="line"><span class="built_in">print</span>(s1.upper())       <span class="comment"># HELLO, WORLD!</span></span><br><span class="line">s2 = <span class="string">&#x27;GOODBYE&#x27;</span></span><br><span class="line"><span class="comment"># 字符串变小写</span></span><br><span class="line"><span class="built_in">print</span>(s2.lower())       <span class="comment"># goodbye</span></span><br><span class="line"><span class="comment"># 检查s1和s2的值</span></span><br><span class="line"><span class="built_in">print</span>(s1)               <span class="comment"># hello, world</span></span><br><span class="line"><span class="built_in">print</span>(s2)               <span class="comment"># GOODBYE</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：由于字符串是不可变类型，使用字符串的方法对字符串进行操作会产生新的字符串，但是原来变量的值并没有发生变化。所以上面的代码中，当我们最后检查<code>s1</code>和<code>s2</code>两个变量的值时，<code>s1</code>和<code>s2</code> 的值并没有发生变化。</p>
</blockquote>
<h4 id="查找操作"><a href="#查找操作" class="headerlink" title="查找操作"></a>查找操作</h4><p>如果想在一个字符串中从前向后查找有没有另外一个字符串，可以使用字符串的<code>find</code>或<code>index</code>方法。在使用<code>find</code>和<code>index</code>方法时还可以通过方法的参数来指定查找的范围，也就是查找不必从索引为<code>0</code>的位置开始。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello, world!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&#x27;or&#x27;</span>))      <span class="comment"># 8，注意是从0开始数，空格也算一个字符。</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&#x27;or&#x27;</span>, <span class="number">9</span>))   <span class="comment"># -1</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&#x27;of&#x27;</span>))      <span class="comment"># -1</span></span><br><span class="line"><span class="built_in">print</span>(s.index(<span class="string">&#x27;or&#x27;</span>))     <span class="comment"># 8</span></span><br><span class="line"><span class="built_in">print</span>(s.index(<span class="string">&#x27;or&#x27;</span>, <span class="number">9</span>))  <span class="comment"># ValueError: substring not found</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：<code>find</code>方法找不到指定的字符串会返回<code>-1</code>，<code>index</code>方法找不到指定的字符串会引发<code>ValueError</code>错误。</p>
</blockquote>
<p><code>find</code>和<code>index</code>方法还有逆向查找（从后向前查找）的版本，分别是<code>rfind</code>和<code>rindex</code>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello world!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&#x27;o&#x27;</span>))       <span class="comment"># 4</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&#x27;o&#x27;</span>))      <span class="comment"># 7，虽然是逆向，但位置还是从前往后数的。</span></span><br><span class="line"><span class="built_in">print</span>(s.rindex(<span class="string">&#x27;o&#x27;</span>))     <span class="comment"># 7</span></span><br><span class="line"><span class="comment"># print(s.rindex(&#x27;o&#x27;, 8))  # ValueError: substring not found</span></span><br></pre></td></tr></table></figure>

<h4 id="性质判断"><a href="#性质判断" class="headerlink" title="性质判断"></a>性质判断</h4><p>可以通过字符串的<code>startswith</code>、<code>endswith</code>来判断字符串是否以某个字符串开头和结尾；还可以用<code>is</code>开头的方法判断字符串的特征，这些方法都返回布尔值，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello, world!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1.startswith(<span class="string">&#x27;He&#x27;</span>))   <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s1.startswith(<span class="string">&#x27;hel&#x27;</span>))  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s1.endswith(<span class="string">&#x27;!&#x27;</span>))      <span class="comment"># True</span></span><br><span class="line">s2 = <span class="string">&#x27;abc123456&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s2.isdigit())  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s2.isalpha())  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s2.isalnum())  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面的<code>isdigit</code>用来判断字符串是不是<strong>完全由数字</strong>构成的，<code>isalpha</code>用来判断字符串是<strong>不是完全由字母</strong>构成的，这里的字母指的是 Unicode 字符但不包含 Emoji 字符，<code>isalnum</code>用来判断字符串是不是<strong>由字母和数字</strong>构成的。</p>
</blockquote>
<h4 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h4><p>在 Python 中，字符串类型可以通过<code>center</code>、<code>ljust</code>、<code>rjust</code>方法做居中、左对齐和右对齐的处理。如果要在字符串的左侧补零，也可以使用<code>zfill</code>方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello, world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s.center(<span class="number">20</span>, <span class="string">&#x27;*&#x27;</span>))  <span class="comment"># ****hello, world****</span></span><br><span class="line"><span class="built_in">print</span>(s.rjust(<span class="number">20</span>))        <span class="comment">#         hello, world</span></span><br><span class="line"><span class="built_in">print</span>(s.ljust(<span class="number">20</span>, <span class="string">&#x27;~&#x27;</span>))   <span class="comment"># hello, world~~~~~~~~</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;33&#x27;</span>.zfill(<span class="number">5</span>))      <span class="comment"># 00033</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-33&#x27;</span>.zfill(<span class="number">5</span>))     <span class="comment"># -0033</span></span><br></pre></td></tr></table></figure>

<p>我们之前讲过，在用<code>print</code>函数输出字符串时，可以用下面的方式对字符串进行格式化。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">321</span></span><br><span class="line">b = <span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;%d * %d = %d&#x27;</span> % (a, b, a * b))</span><br></pre></td></tr></table></figure>

<p>当然，我们也可以用字符串的<code>format</code>方法来完成字符串的格式，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">321</span></span><br><span class="line">b = <span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;0&#125; * &#123;1&#125; = &#123;2&#125;&#x27;</span>.<span class="built_in">format</span>(a, b, a * b))</span><br></pre></td></tr></table></figure>

<p>从 Python 3.6 开始，格式化字符串还有更为简洁的书写方式，就是在字符串前加上<code>f</code>来格式化字符串，在这种以<code>f</code>打头的字符串中，<code>&#123;变量名&#125;</code>是一个占位符，会被变量对应的值将其替换掉，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">321</span></span><br><span class="line">b = <span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;a&#125;</span> * <span class="subst">&#123;b&#125;</span> = <span class="subst">&#123;a * b&#125;</span>&#x27;</span>)</span><br><span class="line">c = <span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;c:x&lt;10d&#125;</span>&#x27;</span>)  <span class="comment">#123xxxxxxx</span></span><br></pre></td></tr></table></figure>

<p>如果需要进一步控制格式化语法中变量值的形式，可以参照下面的表格来进行字符串格式化操作。</p>
<table>
<thead>
<tr>
<th align="center">变量值</th>
<th align="center">占位符</th>
<th align="center">格式化结果</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>3.1415926</code></td>
<td align="center"><code>&#123;:.2f&#125;</code></td>
<td align="center"><code>&#39;3.14&#39;</code></td>
<td align="center">保留小数点后两位</td>
</tr>
<tr>
<td align="center"><code>3.1415926</code></td>
<td align="center"><code>&#123;:+.2f&#125;</code></td>
<td align="center"><code>&#39;+3.14&#39;</code></td>
<td align="center">带符号保留小数点后两位</td>
</tr>
<tr>
<td align="center"><code>-1</code></td>
<td align="center"><code>&#123;:+.2f&#125;</code></td>
<td align="center"><code>&#39;-1.00&#39;</code></td>
<td align="center">带符号保留小数点后两位</td>
</tr>
<tr>
<td align="center"><code>3.1415926</code></td>
<td align="center"><code>&#123;:.0f&#125;</code></td>
<td align="center"><code>&#39;3&#39;</code></td>
<td align="center">不带小数</td>
</tr>
<tr>
<td align="center"><code>123</code></td>
<td align="center"><code>&#123;:0&gt;10d&#125;</code></td>
<td align="center"><code>&#39;0000000123&#39;</code></td>
<td align="center">左边补<code>0</code>，补够10位</td>
</tr>
<tr>
<td align="center"><code>123</code></td>
<td align="center"><code>&#123;:x&lt;10d&#125;</code></td>
<td align="center"><code>&#39;123xxxxxxx&#39;</code></td>
<td align="center">右边补<code>x</code> ，补够10位</td>
</tr>
<tr>
<td align="center"><code>123</code></td>
<td align="center"><code>&#123;:&gt;10d&#125;</code></td>
<td align="center"><code>&#39;       123&#39;</code></td>
<td align="center">左边补空格，补够10位</td>
</tr>
<tr>
<td align="center"><code>123</code></td>
<td align="center"><code>&#123;:&lt;10d&#125;</code></td>
<td align="center"><code>&#39;123       &#39;</code></td>
<td align="center">右边补空格，补够10位</td>
</tr>
<tr>
<td align="center"><code>123456789</code></td>
<td align="center"><code>&#123;:,&#125;</code></td>
<td align="center"><code>&#39;123,456,789&#39;</code></td>
<td align="center">逗号分隔格式</td>
</tr>
<tr>
<td align="center"><code>0.123</code></td>
<td align="center"><code>&#123;:.2%&#125;</code></td>
<td align="center"><code>&#39;12.30%&#39;</code></td>
<td align="center">百分比格式</td>
</tr>
<tr>
<td align="center"><code>123456789</code></td>
<td align="center"><code>&#123;:.2e&#125;</code></td>
<td align="center"><code>&#39;1.23e+08&#39;</code></td>
<td align="center">科学计数法格式</td>
</tr>
</tbody></table>
<h4 id="修剪操作"><a href="#修剪操作" class="headerlink" title="修剪操作"></a>修剪操作</h4><p>字符串的<code>strip</code>方法可以帮我们获得将原字符串修剪掉左右两端指定字符之后的字符串，默认是修剪空格字符。这个方法非常有实用价值，可以用来将用户输入时不小心键入的头尾空格等去掉，<code>strip</code>方法还有<code>lstrip</code>和<code>rstrip</code>两个版本，相信从名字大家已经猜出来这两个方法是做什么用的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;   jackfrued@126.com  &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1.strip())      <span class="comment"># jackfrued@126.com</span></span><br><span class="line">s2 = <span class="string">&#x27;~你好，世界~&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s2.lstrip(<span class="string">&#x27;~&#x27;</span>))  <span class="comment"># 你好，世界~</span></span><br><span class="line"><span class="built_in">print</span>(s2.rstrip(<span class="string">&#x27;~&#x27;</span>))  <span class="comment"># ~你好，世界</span></span><br></pre></td></tr></table></figure>

<h4 id="替换操作"><a href="#替换操作" class="headerlink" title="替换操作"></a>替换操作</h4><p>如果希望用新的内容替换字符串中指定的内容，可以使用<code>replace</code>方法，代码如下所示。<code>replace</code>方法的第一个参数是被替换的内容，第二个参数是替换后的内容，还可以通过第三个参数指定替换的次数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;hello, good world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;@&#x27;</span>))     <span class="comment"># hell@, g@@d w@rld</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;@&#x27;</span>, <span class="number">1</span>))  <span class="comment"># hell@, good world</span></span><br><span class="line"><span class="built_in">print</span>(s)					 <span class="comment"># hello, good world</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>务必再提醒一遍，字符串是不可变类型，使用字符串的方法对字符串进行操作会产生新的字符串，但是原来变量的值并没有发生变化。</p>
</blockquote>
<h4 id="拆分与合并"><a href="#拆分与合并" class="headerlink" title="拆分与合并"></a>拆分与合并</h4><p>可以使用字符串的<code>split</code>方法将一个字符串拆分为多个字符串（放在一个列表中），也可以使用字符串的<code>join</code>方法将列表中的多个字符串连接成一个字符串，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;I love you&#x27;</span></span><br><span class="line">words = s.split()</span><br><span class="line"><span class="built_in">print</span>(words)            <span class="comment"># [&#x27;I&#x27;, &#x27;love&#x27;, &#x27;you&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;~&#x27;</span>.join(words))  <span class="comment"># I~love~you</span></span><br></pre></td></tr></table></figure>

<p>需要说明的是，<code>split</code>方法默认使用空格进行拆分，我们也可以指定其他的字符来拆分字符串，而且还可以指定最大拆分次数来控制拆分的效果，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;I#love#you#so#much&#x27;</span></span><br><span class="line">words = s.split(<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(words)  <span class="comment"># [&#x27;I&#x27;, &#x27;love&#x27;, &#x27;you&#x27;, &#x27;so&#x27;, &#x27;much&#x27;]  #拆分后指定字符会删除</span></span><br><span class="line">words = s.split(<span class="string">&#x27;#&#x27;</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(words)  <span class="comment"># [&#x27;I&#x27;, &#x27;love&#x27;, &#x27;you#so#much&#x27;]</span></span><br></pre></td></tr></table></figure>



<h4 id="编码和解码"><a href="#编码和解码" class="headerlink" title="编码和解码"></a>编码和解码</h4><p>Python 中除了字符串<code>str</code>类型外，还有一种表示二进制数据的字节串类型（<code>bytes</code>）。所谓字节串，就是<strong>由零个或多个字节组成的有限序列</strong>。通过字符串的<code>encode</code>方法，我们可以按照某种编码方式将字符串编码为字节串，我们也可以使用字节串的<code>decode</code>方法，将字节串解码为字符串，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;李卓&#x27;</span></span><br><span class="line">b = a.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">c = a.encode(<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)                  <span class="comment"># b&#x27;\xe6\x9d\x8e\xe5\x8d\x93&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(c)                  <span class="comment"># b&#x27;\xc0\xee\xd7\xbf&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(b.decode(<span class="string">&#x27;utf-8&#x27;</span>))  <span class="comment"># 李卓</span></span><br><span class="line"><span class="built_in">print</span>(c.decode(<span class="string">&#x27;gbk&#x27;</span>))    <span class="comment"># 李卓</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意，如果编码和解码的方式不一致，会导致乱码问题（无法再现原始的内容）或引发<code>UnicodeDecodeError</code>错误，导致程序崩溃。</p>
</blockquote>
<h4 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h4><p>对于字符串类型来说，还有一个常用的操作是对字符串进行匹配检查，即检查字符串是否满足某种特定的模式。例如，一个网站对用户注册信息中用户名和邮箱的检查，就属于模式匹配检查。实现模式匹配检查的工具叫做<strong>正则表达式</strong>，Python 语言通过标准库中的<code>re</code>模块提供了对正则表达式的支持，我们会在后续的课程中为大家讲解这个知识点。</p>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>知道如何表示和操作字符串对程序员来说是非常重要的，因为我们经常需要处理文本信息，Python 中操作字符串可以用拼接、索引、切片等运算符，也可以使用字符串类型提供的非常丰富的方法。</p>
<h2 id="数据结构——集合"><a href="#数据结构——集合" class="headerlink" title="数据结构——集合"></a>数据结构——集合</h2><p>说到集合这个词大家一定不会陌生，在数学课本上就有这个概念。如果我们<strong>把一定范围的、确定的、可以区别的事物当作一个整体来看待</strong>，那么这个整体就是集合，集合中的各个事物称为集合的<strong>元素</strong>。通常，集合需要满足以下特性：</p>
<ol>
<li><strong>无序性</strong>：一个集合中，每个元素的地位都是相同的，元素之间是<strong>无序</strong>的。</li>
<li><strong>互异性</strong>：一个集合中，任何两个元素都是不相同的，即元素在集合中<strong>只能出现一次</strong>。</li>
<li><strong>确定性</strong>：给定一个集合和一个任意元素，该元素要么属这个集合，要么不属于这个集合，二者必居其一，不允许有模棱两可的情况出现。</li>
</ol>
<p>Python 程序中的集合跟数学上的集合没有什么本质区别，需要强调的是上面所说的无序性和互异性。无序性说明集合中的元素并不像列中的元素那样存在某种次序，可以通过索引运算就能访问任意元素，<strong>集合并不支持索引运算</strong>。另外，集合的互异性决定了<strong>集合中不能有重复元素</strong>，这一点也是集合区别于列表的地方，我们无法将重复的元素添加到一个集合中。集合类型必然是<strong>支持<code>in</code>和<code>not in</code>成员运算</strong>的，这样就可以确定一个元素是否属于集合，也就是上面所说的集合的确定性。<strong>集合的成员运算在性能上要优于列表的成员运算</strong>，这是集合的底层存储特性决定的，此处我们暂时不做讨论，记住这个结论即可。</p>
<blockquote>
<p>注意：<strong>Python 中的集合是可变类型</strong></p>
</blockquote>
<h3 id="创建集合"><a href="#创建集合" class="headerlink" title="创建集合"></a>创建集合</h3><p>在 Python 中，创建集合可以使用<code>&#123;&#125;</code>字面量语法，<code>&#123;&#125;</code>中需要至少有一个元素，因为没有元素的<code>&#123;&#125;</code>并不是空集合而是一个空字典。</p>
<p>当然，也可以使用 Python 内置函数<code>set</code>来创建一个集合，准确的说<code>set</code>并不是一个函数，而是创建集合对象的构造器。我们可以使用<code>set</code>函数创建一个空集合，也可以用它将其他序列转换成集合。</p>
<p>例如：<code>set(&#39;hello&#39;)</code>会得到一个包含了<code>4</code>个字符的集合（重复的字符<code>l</code>只会在集合中出现一次）。除了这两种方式，还可以使用生成式语法来创建集合，就像我们之前用生成式语法创建列表那样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(set1)		<span class="comment"># &#123;1, 2, 3&#125;</span></span><br><span class="line">set2 = &#123;<span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;pitaya&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;grape&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(set2)		<span class="comment"># &#123;&#x27;banana&#x27;, &#x27;grape&#x27;, &#x27;pitaya&#x27;, &#x27;apple&#x27;&#125;</span></span><br><span class="line">set3 = <span class="built_in">set</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(set3)		<span class="comment">#&#123;&#x27;l&#x27;, &#x27;o&#x27;, &#x27;h&#x27;, &#x27;e&#x27;&#125;</span></span><br><span class="line">set4 = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(set4)		<span class="comment"># &#123;1, 2, 3&#125;</span></span><br><span class="line">set5 = &#123;num <span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">20</span>) <span class="keyword">if</span> num % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">or</span> num % <span class="number">7</span> == <span class="number">0</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(set5)		<span class="comment">#&#123; 3, 6, 7, 9, 12, 14, 15, 18&#125;</span></span><br></pre></td></tr></table></figure>

<p>需要提醒大家，集合中的元素必须是<code>hashable</code>类型，使用哈希存储的容器都会对元素提出这一要求。所谓<code>hashable</code>类型指的是能够计算出哈希码的数据类型，<strong>通常不可变类型都是<code>hashable</code>类型</strong>，如整数（<code>int</code>）、浮点小数（<code>float</code>）、布尔值（<code>bool</code>）、字符串（<code>str</code>）、元组（<code>tuple</code>）等。可变类型都不是<code>hashable</code>类型，因为可变类型无法计算出确定的哈希码，所以它们不能放到集合中。例如：我们不能将列表作为集合中的元素；同理，由于集合本身也是可变类型，所以集合也不能作为集合中的元素。我们可以创建出嵌套的列表，但是我们不能创建出嵌套的集合，这一点在使用集合的时候一定要引起注意。</p>
<h3 id="集合的遍历"><a href="#集合的遍历" class="headerlink" title="集合的遍历"></a>集合的遍历</h3><p>我们可以通过<code>len</code>函数来获得集合中有多少个元素，但是我们不能通过索引运算来遍历集合中的元素，因为集合元素并没有特定的顺序。当然，要实现对集合元素的遍历，我们仍然可以使用<code>for-in</code>循环，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> elem <span class="keyword">in</span> set1:</span><br><span class="line">    <span class="built_in">print</span>(elem)		<span class="comment">#每次输出都是随机顺序的</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>提示</strong>：大家看看上面代码的运行结果，通过单词输出的顺序体会一下集合的无序性。</p>
</blockquote>
<h3 id="集合的运算"><a href="#集合的运算" class="headerlink" title="集合的运算"></a>集合的运算</h3><p>Python 为集合类型提供了非常丰富的运算符，主要包括：<strong>成员运算、交集运算、并集运算、差集运算、比较运算</strong>（相等性、子集、超集）等。</p>
<h4 id="成员运算-1"><a href="#成员运算-1" class="headerlink" title="成员运算"></a>成员运算</h4><p>可以通过成员运算<code>in</code>和<code>not in </code>检查元素是否在集合中，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> <span class="keyword">in</span> set1)      <span class="comment"># False </span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">15</span> <span class="keyword">in</span> set1)      <span class="comment"># True</span></span><br><span class="line">set2 = &#123;<span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Ruby&#x27;</span> <span class="keyword">in</span> set2)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Java&#x27;</span> <span class="keyword">in</span> set2)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<h4 id="二元运算"><a href="#二元运算" class="headerlink" title="二元运算"></a>二元运算</h4><p>集合的二元运算主要指集合的交集、并集、差集、对称差等运算，这些运算可以通过运算符来实现，也可以通过集合类型的方法来实现，代码如下所示。</p>
<p><img src="C:\Users\lili\Desktop\Python_exercise\set_operations.png" alt="set_operations"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 交集</span></span><br><span class="line"><span class="built_in">print</span>(set1 &amp; set2)                      <span class="comment"># &#123;2, 4, 6&#125;</span></span><br><span class="line"><span class="built_in">print</span>(set1.intersection(set2))          <span class="comment"># &#123;2, 4, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 并集</span></span><br><span class="line"><span class="built_in">print</span>(set1 | set2)                      <span class="comment"># &#123;1, 2, 3, 4, 5, 6, 7, 8, 10&#125;</span></span><br><span class="line"><span class="built_in">print</span>(set1.union(set2))                 <span class="comment"># &#123;1, 2, 3, 4, 5, 6, 7, 8, 10&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 差集</span></span><br><span class="line"><span class="built_in">print</span>(set1 - set2)                      <span class="comment"># &#123;1, 3, 5, 7&#125;</span></span><br><span class="line"><span class="built_in">print</span>(set1.difference(set2))            <span class="comment"># &#123;1, 3, 5, 7&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对称差</span></span><br><span class="line"><span class="built_in">print</span>(set1 ^ set2)                      <span class="comment"># &#123;1, 3, 5, 7, 8, 10&#125;</span></span><br><span class="line"><span class="built_in">print</span>(set1.symmetric_difference(set2))  <span class="comment"># &#123;1, 3, 5, 7, 8, 10&#125;</span></span><br></pre></td></tr></table></figure>

<p>通过上面的代码可以看出，对两个集合求交集，<code>&amp;</code>运算符和<code>intersection</code>方法的作用是完全相同的，使用运算符的方式显然更直观且代码也更简短。需要说明的是，集合的二元运算还可以跟赋值运算一起构成复合赋值运算，例如：<code>set1 |= set2</code>相当于<code>set1 = set1 | set2</code>，跟<code>|=</code>作用相同的方法是<code>update</code>；<code>set1 &amp;= set2</code>相当于<code>set1 = set1 &amp; set2</code>，跟<code>&amp;=</code>作用相同的方法是<code>intersection_update</code>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>&#125;</span><br><span class="line">set1 |= set2</span><br><span class="line"><span class="comment"># set1.update(set2)</span></span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment"># &#123;1, 2, 3, 4, 5, 6, 7&#125;</span></span><br><span class="line">set3 = &#123;<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>&#125;</span><br><span class="line">set1 &amp;= set3</span><br><span class="line"><span class="comment"># set1.intersection_update(set3)</span></span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment"># &#123;3, 6&#125;</span></span><br><span class="line">set2 -= set1</span><br><span class="line"><span class="comment"># set2.difference_update(set1)</span></span><br><span class="line"><span class="built_in">print</span>(set2)  <span class="comment"># &#123;2, 4&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="比较运算-1"><a href="#比较运算-1" class="headerlink" title="比较运算"></a>比较运算</h4><p>两个集合可以用<code>==</code>和<code>!=</code>进行相等性判断，如果两个集合中的元素完全相同，那么<code>==</code>比较的结果就是<code>True</code>，否则就是<code>False</code>。如果集合<code>A</code>的任意一个元素都是集合<code>B</code>的元素，那么集合<code>A</code>称为集合<code>B</code>的<strong>子集</strong>，<code>A</code>是<code>B</code>的子集，反过来也可以称<code>B</code>是<code>A</code>的<strong>超集</strong>。如果<code>A</code>是<code>B</code>的子集且<code>A</code>不等于<code>B</code>，那么<code>A</code>就是<code>B</code>的<strong>真子集</strong>。Python 为集合类型提供了判断子集和超集的运算符，其实就是我们非常熟悉的<code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code>这些运算符。当然，我们也可以通过集合类型的方法<code>issubset</code>和<code>issuperset</code>来判断集合之间的关系，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">set3 = &#123;<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(set1 &lt; set2)   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(set1 &lt;= set2)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(set2 &lt; set3)   <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(set2 &lt;= set3)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(set2 &gt; set1)   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(set2 == set3)  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(set1.issubset(set2))    <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(set2.issuperset(set1))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：上面的代码中，<code>set1 &lt; set2</code>判断<code>set1</code>是不是<code>set2</code>的真子集，<code>set1 &lt;= set2</code>判断<code>set1</code>是不是<code>set2</code>的子集，<code>set2 &gt; set1</code>判断<code>set2</code>是不是<code>set1</code>的超集。当然，我们也可以通过<code>set1.issubset(set2)</code>判断<code>set1</code>是不是<code>set2</code>的子集；通过<code>set2.issuperset(set1)</code>判断<code>set2</code>是不是<code>set1</code>的超集。</p>
</blockquote>
<h3 id="集合的方法"><a href="#集合的方法" class="headerlink" title="集合的方法"></a>集合的方法</h3><p>刚才我们说过，<strong>Python 中的集合是可变类型</strong>，我们可以通过集合类型的方法向集合添加元素或从集合中删除元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>&#125;</span><br><span class="line"><span class="comment"># 添加元素</span></span><br><span class="line">set1.add(<span class="number">1000</span>)</span><br><span class="line">set1.add(<span class="number">10000</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment"># &#123;1, 100, 1000, 10, 10000&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除元素</span></span><br><span class="line">set1.discard(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="number">100</span> <span class="keyword">in</span> set1:</span><br><span class="line">    set1.remove(<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment"># &#123;1, 1000, 10000&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空元素</span></span><br><span class="line">set1.clear()</span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment"># set()</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>说明</strong>：删除集合元素的<code>remove</code>方法在元素不存在时会引发<code>KeyError</code>错误，所以上面的代码中我们先通过成员运算判断元素是否在集合中。集合类型还有一个<code>pop</code>方法可以从集合中随机删除一个元素，该方法在删除元素的同时会获得被删除的元素，而<code>remove</code>和<code>discard</code>方法仅仅是删除元素，不会获得被删除的元素。</p>
</blockquote>
<p>集合类型还有一个名为<code>isdisjoint</code>的方法可以判断两个集合有没有相同的元素，如果没有相同元素，该方法返回<code>True</code>，否则该方法返回<code>False</code>，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Kotlin&#x27;</span>&#125;</span><br><span class="line">set2 = &#123;<span class="string">&#x27;Kotlin&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Dart&#x27;</span>&#125;</span><br><span class="line">set3 = &#123;<span class="string">&#x27;HTML&#x27;</span>, <span class="string">&#x27;CSS&#x27;</span>, <span class="string">&#x27;JavaScript&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(set1.isdisjoint(set2))  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(set1.isdisjoint(set3))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<h3 id="不可变集合"><a href="#不可变集合" class="headerlink" title="不可变集合"></a>不可变集合</h3><p>Python 中还有一种不可变类型的集合，名字叫<code>frozenset</code>。<code>set</code>跟<code>frozenset</code>的区别就如同<code>list</code>跟<code>tuple</code>的区别，<code>frozenset</code>由于是不可变类型，能够计算出哈希码，因此它可以作为<code>set</code>中的元素。除了不能添加和删除元素，<code>frozenset</code>在其他方面跟<code>set</code>是一样的，下面的代码简单的展示了<code>frozenset</code>的用法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fset1 = <span class="built_in">frozenset</span>(&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>&#125;)</span><br><span class="line">fset2 = <span class="built_in">frozenset</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">6</span>))</span><br><span class="line"><span class="built_in">print</span>(fset1)          <span class="comment"># frozenset(&#123;1, 3, 5, 7&#125;)</span></span><br><span class="line"><span class="built_in">print</span>(fset2)          <span class="comment"># frozenset(&#123;1, 2, 3, 4, 5&#125;)</span></span><br><span class="line"><span class="built_in">print</span>(fset1 &amp; fset2)  <span class="comment"># frozenset(&#123;1, 3, 5&#125;)</span></span><br><span class="line"><span class="built_in">print</span>(fset1 | fset2)  <span class="comment"># frozenset(&#123;1, 2, 3, 4, 5, 7&#125;)</span></span><br><span class="line"><span class="built_in">print</span>(fset1 - fset2)  <span class="comment"># frozenset(&#123;7&#125;)</span></span><br><span class="line"><span class="built_in">print</span>(fset1 &lt; fset2)  <span class="comment"># False</span></span><br></pre></td></tr></table></figure>

<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p>Python 中的<strong>集合类型是一种无序容器</strong>，<strong>不允许有重复运算</strong>，由于底层使用了哈希存储，集合中的元素必须是<code>hashable</code>类型。集合与列表最大的区别在于<strong>集合中的元素没有顺序</strong>、所以<strong>不能够通过索引运算访问元素</strong>、但是集合可以执行交集、并集、差集等二元运算，也可以通过关系运算符检查两个集合是否存在超集、子集等关系。</p>
<h2 id="数据结构——字典"><a href="#数据结构——字典" class="headerlink" title="数据结构——字典"></a>数据结构——字典</h2><p>迄今为止，我们已经为大家介绍了Python中的三种容器型数据类型（列表、元组、集合），但是这些数据类型仍然不足以帮助我们解决所有的问题。例如，我们需要一个变量来保存一个人的多项信息，包括：姓名、年龄、身高、体重、家庭住址、本人手机号、紧急联系人手机号，此时会发现，我们之前学过的列表、元组和集合类型都不够好使。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">person1 = [<span class="string">&#x27;王大锤&#x27;</span>, <span class="number">55</span>, <span class="number">168</span>, <span class="number">60</span>, <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>, <span class="string">&#x27;13122334455&#x27;</span>, <span class="string">&#x27;13800998877&#x27;</span>]</span><br><span class="line">person2 = (<span class="string">&#x27;王大锤&#x27;</span>, <span class="number">55</span>, <span class="number">168</span>, <span class="number">60</span>, <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>, <span class="string">&#x27;13122334455&#x27;</span>, <span class="string">&#x27;13800998877&#x27;</span>)</span><br><span class="line">person3 = &#123;<span class="string">&#x27;王大锤&#x27;</span>, <span class="number">55</span>, <span class="number">168</span>, <span class="number">60</span>, <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>, <span class="string">&#x27;13122334455&#x27;</span>, <span class="string">&#x27;13800998877&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>集合肯定是最不合适的，因为集合中不能有重复元素，如果一个人的年龄和体重刚好相同，那么集合中就会少一项信息；另一方面，虽然列表和元组可以把一个人的所有信息都保存下来，但是当你想要获取这个人的手机号或家庭住址时，你得先知道他的手机号是列表或元组中的第几个元素。总之，在遇到上述的场景时，列表、元组、集合都不是最合适的选择，此时我们需要字典（dictionary）类型。</p>
<p>Python 程序中的字典跟现实生活中的字典很像，它以键值对（<strong>键和值的组合</strong>）的方式把数据组织到一起，我们可以通过键找到与之对应的值并进行操作。就像《新华字典》中，每个字（键）都有与它对应的解释（值）一样，每个字和它的解释合在一起就是字典中的一个条目，而字典中通常包含了很多个这样的条目。</p>
<h3 id="创建和使用字典"><a href="#创建和使用字典" class="headerlink" title="创建和使用字典"></a>创建和使用字典</h3><p>Python 中创建字典可以使用<code>&#123;&#125;</code>字面量语法，这一点跟上一节课讲的集合是一样的。但是字典的<code>&#123;&#125;</code>中的元素是以键值对的形式存在的，每个元素由<code>:</code>分隔的两个值构成，<code>:</code>前面是键，<code>:</code>后面是值，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">xinhua = &#123;</span><br><span class="line">    <span class="string">&#x27;麓&#x27;</span>: <span class="string">&#x27;山脚下&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;路&#x27;</span>: <span class="string">&#x27;道，往来通行的地方；方面，地区：南～货，外～货；种类：他俩是一～人&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;蕗&#x27;</span>: <span class="string">&#x27;甘草的别名&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;潞&#x27;</span>: <span class="string">&#x27;潞水，水名，即今山西省的浊漳河；潞江，水名，即云南省的怒江&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(xinhua)</span><br><span class="line">person = &#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;age&#x27;</span>: <span class="number">55</span>,</span><br><span class="line">    <span class="string">&#x27;height&#x27;</span>: <span class="number">168</span>,</span><br><span class="line">    <span class="string">&#x27;weight&#x27;</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;tel&#x27;</span>: <span class="string">&#x27;13122334455&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;emergence contact&#x27;</span>: <span class="string">&#x27;13800998877&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(person)</span><br></pre></td></tr></table></figure>

<p>通过上面的代码，相信大家已经看出来了，用字典来保存一个人的信息远远优于使用列表或元组，因为我们可以用<code>:</code>前面的键来表示条目的含义，而<code>:</code>后面就是这个条目所对应的值。</p>
<p>当然，如果愿意，我们也可以使用内置函数<code>dict</code>或者是字典的生成式语法来创建字典，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dict函数(构造器)中的每一组参数就是字典中的一组键值对</span></span><br><span class="line">person = <span class="built_in">dict</span>(name=<span class="string">&#x27;王大锤&#x27;</span>, age=<span class="number">55</span>, height=<span class="number">168</span>, weight=<span class="number">60</span>, addr=<span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(person)  <span class="comment"># &#123;&#x27;name&#x27;: &#x27;王大锤&#x27;, &#x27;age&#x27;: 55, &#x27;height&#x27;: 168, &#x27;weight&#x27;: 60, &#x27;addr&#x27;: &#x27;成都市武侯区科华北路62号1栋101&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以通过Python内置函数zip压缩两个序列并创建字典</span></span><br><span class="line">items1 = <span class="built_in">dict</span>(<span class="built_in">zip</span>(<span class="string">&#x27;ABCDE&#x27;</span>, <span class="string">&#x27;12345&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(items1)  <span class="comment"># &#123;&#x27;A&#x27;: &#x27;1&#x27;, &#x27;B&#x27;: &#x27;2&#x27;, &#x27;C&#x27;: &#x27;3&#x27;, &#x27;D&#x27;: &#x27;4&#x27;, &#x27;E&#x27;: &#x27;5&#x27;&#125;</span></span><br><span class="line">items2 = <span class="built_in">dict</span>(<span class="built_in">zip</span>(<span class="string">&#x27;ABCDE&#x27;</span>, <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>)))</span><br><span class="line"><span class="built_in">print</span>(items2)  <span class="comment"># &#123;&#x27;A&#x27;: 1, &#x27;B&#x27;: 2, &#x27;C&#x27;: 3, &#x27;D&#x27;: 4, &#x27;E&#x27;: 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用字典生成式语法创建字典</span></span><br><span class="line">items3 = &#123;x: x ** <span class="number">3</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">6</span>)&#125;</span><br><span class="line"><span class="built_in">print</span>(items3)  <span class="comment"># &#123;1: 1, 2: 8, 3: 27, 4: 64, 5: 125&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>提示：字典中存储的数据类型是任意的。例如第一份字典中，’王大锤‘为字符串类型，而’55’为整数类型。</p>
</blockquote>
<p>想知道字典中一共有多少组键值对，仍然是使用<code>len</code>函数；如果想对字典进行遍历，可以用<code>for</code>循环，但是需要注意，<code>for</code>循环只是对字典的键进行了遍历，不过没关系，在学习了字典的索引运算后，我们可以通过字典的键获取到和这个键对应的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">55</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">168</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">60</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(person))  <span class="comment"># 5</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> person:</span><br><span class="line">    <span class="built_in">print</span>(key)</span><br></pre></td></tr></table></figure>



<h3 id="字典的运算"><a href="#字典的运算" class="headerlink" title="字典的运算"></a>字典的运算</h3><p>对于字典类型来说，成员运算和索引运算肯定是很重要的，前者可以判定指定的键在不在字典中，后者可以通过键获取对应的值或者向字典中添加新的键值对。值得注意的是，字典的索引不同于列表的索引，列表中的元素因为有属于自己有序号，所以<strong>列表的索引是一个整数</strong>；字典中因为保存的是键值对，所以字典需要用键去索引对应的值。需要<strong>特别提醒</strong>大家注意的是，<strong>字典中的键必须是不可变类型</strong>，例如整数（<code>int</code>）、浮点数（<code>float</code>）、字符串（<code>str</code>）、元组（<code>tuple</code>）等类型，这一点跟集合类型对元素的要求是一样的；很显然，之前我们讲的列表（<code>list</code>）和集合（<code>set</code>）不能作为字典中的键，<strong>字典类型本身也不能再作为字典中的键</strong>，因为字典也是可变类型，但是字典可以作为字典中的值。大家可以先看看下面的代码，了解一下字典的成员运算和索引运算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">55</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">168</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">60</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 成员运算</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> person)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;tel&#x27;</span> <span class="keyword">in</span> person)   <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引运算</span></span><br><span class="line"><span class="built_in">print</span>(person[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(person[<span class="string">&#x27;addr&#x27;</span>])</span><br><span class="line">person[<span class="string">&#x27;age&#x27;</span>] = <span class="number">25</span></span><br><span class="line">person[<span class="string">&#x27;height&#x27;</span>] = <span class="number">178</span></span><br><span class="line">person[<span class="string">&#x27;tel&#x27;</span>] = <span class="string">&#x27;13122334455&#x27;</span></span><br><span class="line">person[<span class="string">&#x27;signature&#x27;</span>] = <span class="string">&#x27;你的男朋友是一个盖世垃圾，他会踏着五彩祥云去迎娶你的闺蜜&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(person)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环遍历</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> person:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;key&#125;</span>:\t<span class="subst">&#123;person[key]&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>需要注意，在通过索引运算获取字典中的值时，如指定的键没有在字典中，将会引发<code>KeyError</code>异常。</p>
<h3 id="字典的方法"><a href="#字典的方法" class="headerlink" title="字典的方法"></a>字典的方法</h3><p>字典类型的方法基本上都跟字典的键值对操作相关，其中<code>get</code>方法可以通过键来获取对应的值。跟索引运算不同的是，<code>get</code>方法在字典中没有指定的键时不会产生异常，而是返回<code>None</code>或指定的默认值，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">178</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(person.get(<span class="string">&#x27;name&#x27;</span>))       <span class="comment"># 王大锤</span></span><br><span class="line"><span class="built_in">print</span>(person.get(<span class="string">&#x27;sex&#x27;</span>))        <span class="comment"># None</span></span><br><span class="line"><span class="built_in">print</span>(person.get(<span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;对应的值不存在！&#x27;</span>))  <span class="comment"># 对应的值不存在！</span></span><br></pre></td></tr></table></figure>



<p>如果需要获取字典中所有的键，可以使用<code>keys</code>方法；如果需要获取字典中所有的值，可以使用<code>values</code>方法。字典还有一个名为<code>items</code>的方法，它会将键和值组装成二元组，通过该方法来遍历字典中的元素也是非常方便的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">178</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(person.keys())    <span class="comment"># dict_keys([&#x27;name&#x27;, &#x27;age&#x27;, &#x27;height&#x27;])</span></span><br><span class="line"><span class="built_in">print</span>(person.values())  <span class="comment"># dict_values([&#x27;王大锤&#x27;, 25, 178])</span></span><br><span class="line"><span class="built_in">print</span>(person.items())   <span class="comment"># dict_items([(&#x27;name&#x27;, &#x27;王大锤&#x27;), (&#x27;age&#x27;, 25), (&#x27;height&#x27;, 178)])</span></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> person.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;key&#125;</span>:\t<span class="subst">&#123;value&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>



<p>字典的<code>update</code>方法会用一个字典更新另一个字典中的键值对。例如，有两个字典<code>x</code>和<code>y</code>，当执行<code>x.update(y)</code>操作时，<code>x</code>跟<code>y</code>相同的键对应的值会将<code>x</code>中的值从<code>y</code>中的值更新，而<code>y</code>中有但<code>x</code>中没有的键值对会直接添加到<code>x</code>中，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">person1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">55</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">178</span>&#125;</span><br><span class="line">person2 = &#123;<span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>&#125;</span><br><span class="line">person1.update(person2)</span><br><span class="line"><span class="built_in">print</span>(person1)  <span class="comment"># &#123;&#x27;name&#x27;: &#x27;王大锤&#x27;, &#x27;age&#x27;: 25, &#x27;height&#x27;: 178, &#x27;addr&#x27;: &#x27;成都市武侯区科华北路62号1栋101&#x27;&#125;</span></span><br><span class="line"><span class="built_in">print</span>(person2)  <span class="comment"># &#123;&#x27;age&#x27;: 25, &#x27;addr&#x27;: &#x27;成都市武侯区科华北路62号1栋101&#x27;&#125;</span></span><br></pre></td></tr></table></figure>



<p>可以通过<code>pop</code>或<code>popitem</code>方法从字典中删除元素，前者会返回键对应的值，但是如果字典中不存在指定的键，会引发<code>KeyError</code>错误；<code>popitem() </code>方法随机返回并删除字典中的最后一对键和值,在删除元素时，会返回键和值组成的二元组。字典的<code>clear</code>方法会清空字典中所有的键值对，代码如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">178</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(person.pop(<span class="string">&#x27;age&#x27;</span>))  <span class="comment"># 25</span></span><br><span class="line"><span class="built_in">print</span>(person)             <span class="comment"># &#123;&#x27;name&#x27;: &#x27;王大锤&#x27;, &#x27;height&#x27;: 178, &#x27;addr&#x27;: &#x27;成都市武侯区科华北路62号1栋101&#x27;&#125;</span></span><br><span class="line"><span class="built_in">print</span>(person.popitem())   <span class="comment"># (&#x27;addr&#x27;, &#x27;成都市武侯区科华北路62号1栋101&#x27;)</span></span><br><span class="line"><span class="built_in">print</span>(person)             <span class="comment"># &#123;&#x27;name&#x27;: &#x27;王大锤&#x27;, &#x27;height&#x27;: 178&#125;</span></span><br><span class="line">person.clear()</span><br><span class="line"><span class="built_in">print</span>(person)             <span class="comment"># &#123;&#125;</span></span><br></pre></td></tr></table></figure>



<p>跟列表一样，从字典中删除元素也可以使用<code>del</code>关键字，在删除元素的时候如果指定的键索引不到对应的值，一样会引发<code>KeyError</code>错误，具体的做法如下所示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王大锤&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">178</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;成都市武侯区科华北路62号1栋101&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">del</span> person[<span class="string">&#x27;age&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> person[<span class="string">&#x27;addr&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(person)  <span class="comment"># &#123;&#x27;name&#x27;: &#x27;王大锤&#x27;, &#x27;height&#x27;: 178&#125;</span></span><br></pre></td></tr></table></figure>



<h3 id="字典的应用"><a href="#字典的应用" class="headerlink" title="字典的应用"></a>字典的应用</h3><p>我们通过几个简单的例子来看看如何使用字典类型解决一些实际的问题。</p>
<p><strong>例子1</strong>：输入一段话，统计每个英文字母出现的次数，按出现次数从高到低输出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sentence = <span class="built_in">input</span>(<span class="string">&#x27;请输入一段话: &#x27;</span>)</span><br><span class="line">counter = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> ch <span class="keyword">in</span> sentence:</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;A&#x27;</span> &lt;= ch &lt;= <span class="string">&#x27;Z&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;a&#x27;</span> &lt;= ch &lt;= <span class="string">&#x27;z&#x27;</span>:</span><br><span class="line">        <span class="comment">#如果counter中已经存在字符 ch，则获取其当前的计数并加 1；如果不存在，则使用默认值 0 并加 1。</span></span><br><span class="line">        counter[ch] = counter.get(ch, <span class="number">0</span>) + <span class="number">1</span>	        </span><br><span class="line">sorted_keys = <span class="built_in">sorted</span>(counter, key=counter.get, reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> sorted_keys:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;key&#125;</span> 出现了 <span class="subst">&#123;counter[key]&#125;</span> 次.&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：这里用到了sort排序函数，这个key并不是字典中key的意思。</p>
</blockquote>
<ul>
<li><code>key=counter.get</code>： <code>sorted</code> 将使用字典 <code>counter</code> 中每个键对应的值来进行排序。</li>
<li><code>reverse=True</code>：按降序排序，使出现次数多的字母排在前面。</li>
<li></li>
</ul>
<p><strong>例子2</strong>：在一个字典中保存了股票的代码和价格，找出股价大于100元的股票并创建一个新的字典。</p>
<blockquote>
<p><strong>说明</strong>：可以用字典的生成式语法来创建这个新字典。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">stocks = &#123;</span><br><span class="line">    <span class="string">&#x27;AAPL&#x27;</span>: <span class="number">191.88</span>,</span><br><span class="line">    <span class="string">&#x27;GOOG&#x27;</span>: <span class="number">1186.96</span>,</span><br><span class="line">    <span class="string">&#x27;IBM&#x27;</span>: <span class="number">149.24</span>,</span><br><span class="line">    <span class="string">&#x27;ORCL&#x27;</span>: <span class="number">48.44</span>,</span><br><span class="line">    <span class="string">&#x27;ACN&#x27;</span>: <span class="number">166.89</span>,</span><br><span class="line">    <span class="string">&#x27;FB&#x27;</span>: <span class="number">208.09</span>,</span><br><span class="line">    <span class="string">&#x27;SYMC&#x27;</span>: <span class="number">21.29</span></span><br><span class="line">&#125;</span><br><span class="line">stocks2 = &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> stocks.items() <span class="keyword">if</span> value &gt; <span class="number">100</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(stocks2)</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;AAPL&#x27;: 191.88, &#x27;GOOG&#x27;: 1186.96, &#x27;IBM&#x27;: 149.24, &#x27;ACN&#x27;: 166.89, &#x27;FB&#x27;: 208.09&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>for key, value in stocks.items()</code>：遍历 <code>stocks</code> 字典的所有键值对。</li>
<li><code>if value &gt; 100</code>：仅保留价格大于 100 的股票。</li>
</ul>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>Python 程序中的字典跟现实生活中字典非常像，允许我们<strong>以键值对的形式保存数据</strong>，再<strong>通过键索引对应的值</strong>。这是一种非常<strong>有利于数据检索</strong>的数据类型。再次提醒大家注意，<strong>字典中的键必须是不可变类型</strong>，字典中的值可以是任意类型。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://lili095.github.io">李梓卓</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://lili095.github.io/2024/07/19/Python%E5%9F%BA%E7%A1%80(2)/">https://lili095.github.io/2024/07/19/Python%E5%9F%BA%E7%A1%80(2)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a></div><div class="post_share"><div class="social-share" data-image="/img/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2024/07/19/Python%E5%9F%BA%E7%A1%80(4)/" title="Python基础(4)-面向对象-类与方法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Python基础(4)-面向对象-类与方法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2024/07/19/Python%E5%9F%BA%E7%A1%80(4)/" title="Python基础(4)-面向对象-类与方法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-19</div><div class="title">Python基础(4)-面向对象-类与方法</div></div></a></div><div><a href="/2024/07/19/Python%E5%9F%BA%E7%A1%80(1)/" title="Python基础(1)-输出、变量、运算符、分支、循环"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-19</div><div class="title">Python基础(1)-输出、变量、运算符、分支、循环</div></div></a></div><div><a href="/2024/07/19/Python%E5%9F%BA%E7%A1%80(5)/" title="Python基础(5)-文件读写与异常处理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-19</div><div class="title">Python基础(5)-文件读写与异常处理</div></div></a></div><div><a href="/2024/07/09/%E4%BD%BF%E7%94%A8Python%E6%93%8D%E4%BD%9C%E5%90%84%E7%B1%BB%E6%96%87%E4%BB%B6/" title="使用Python操作各类文件"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-09</div><div class="title">使用Python操作各类文件</div></div></a></div><div><a href="/2024/07/19/Python%E5%9F%BA%E7%A1%80(3)/" title="Python基础(3)-函数"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-19</div><div class="title">Python基础(3)-函数</div></div></a></div><div><a href="/2024/07/19/Python%E5%9F%BA%E7%A1%80(6)/" title="Python基础(6)-并发编程"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-19</div><div class="title">Python基础(6)-并发编程</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%88%97%E8%A1%A8"><span class="toc-number">1.</span> <span class="toc-text">数据结构——列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%88%97%E8%A1%A8"><span class="toc-number">1.1.</span> <span class="toc-text">创建列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-number">1.2.</span> <span class="toc-text">列表的运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">1.3.</span> <span class="toc-text">元素的遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.</span> <span class="toc-text">列表的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%92%8C%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-number">1.5.1.</span> <span class="toc-text">添加和删除元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E4%BD%8D%E7%BD%AE%E5%92%8C%E9%A2%91%E6%AC%A1"><span class="toc-number">1.5.2.</span> <span class="toc-text">元素位置和频次</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E6%8E%92%E5%BA%8F%E5%92%8C%E5%8F%8D%E8%BD%AC"><span class="toc-number">1.5.3.</span> <span class="toc-text">元素排序和反转</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90%E5%BC%8F"><span class="toc-number">1.6.</span> <span class="toc-text">列表生成式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%88%97%E8%A1%A8"><span class="toc-number">1.7.</span> <span class="toc-text">嵌套列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">1.8.</span> <span class="toc-text">列表应用举例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%85%83%E7%BB%84"><span class="toc-number">2.</span> <span class="toc-text">数据结构——元组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E8%BF%90%E7%AE%97"><span class="toc-number">2.1.</span> <span class="toc-text">元组的定义和运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%92%8C%E8%A7%A3%E5%8C%85%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">打包和解包操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-number">2.3.</span> <span class="toc-text">交换变量的值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E5%92%8C%E5%88%97%E8%A1%A8%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.4.</span> <span class="toc-text">元组和列表的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">2.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.</span> <span class="toc-text">数据结构——字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">3.1.</span> <span class="toc-text">字符串的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">3.1.1.</span> <span class="toc-text">转义字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.1.2.</span> <span class="toc-text">原始字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%9A%84%E7%89%B9%E6%AE%8A%E8%A1%A8%E7%A4%BA"><span class="toc-number">3.1.3.</span> <span class="toc-text">字符的特殊表示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-number">3.2.</span> <span class="toc-text">字符串的运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%BC%E6%8E%A5%E5%92%8C%E9%87%8D%E5%A4%8D"><span class="toc-number">3.2.1.</span> <span class="toc-text">拼接和重复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97"><span class="toc-number">3.2.2.</span> <span class="toc-text">比较运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E8%BF%90%E7%AE%97"><span class="toc-number">3.2.3.</span> <span class="toc-text">成员运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"><span class="toc-number">3.2.4.</span> <span class="toc-text">获取字符串长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87"><span class="toc-number">3.2.5.</span> <span class="toc-text">索引和切片</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">3.3.</span> <span class="toc-text">字符的遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.</span> <span class="toc-text">字符串的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%A7%E5%B0%8F%E5%86%99%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.1.</span> <span class="toc-text">大小写相关操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.2.</span> <span class="toc-text">查找操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%B4%A8%E5%88%A4%E6%96%AD"><span class="toc-number">3.4.3.</span> <span class="toc-text">性质判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.4.4.</span> <span class="toc-text">格式化字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E5%89%AA%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.5.</span> <span class="toc-text">修剪操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">3.4.6.</span> <span class="toc-text">替换操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%86%E5%88%86%E4%B8%8E%E5%90%88%E5%B9%B6"><span class="toc-number">3.4.7.</span> <span class="toc-text">拆分与合并</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81"><span class="toc-number">3.4.8.</span> <span class="toc-text">编码和解码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.9.</span> <span class="toc-text">其他方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">3.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E9%9B%86%E5%90%88"><span class="toc-number">4.</span> <span class="toc-text">数据结构——集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%9B%86%E5%90%88"><span class="toc-number">4.1.</span> <span class="toc-text">创建集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">4.2.</span> <span class="toc-text">集合的遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-number">4.3.</span> <span class="toc-text">集合的运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E5%91%98%E8%BF%90%E7%AE%97-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">成员运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97"><span class="toc-number">4.3.2.</span> <span class="toc-text">二元运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97-1"><span class="toc-number">4.3.3.</span> <span class="toc-text">比较运算</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.4.</span> <span class="toc-text">集合的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88"><span class="toc-number">4.5.</span> <span class="toc-text">不可变集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">4.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%AD%97%E5%85%B8"><span class="toc-number">5.</span> <span class="toc-text">数据结构——字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8%E5%AD%97%E5%85%B8"><span class="toc-number">5.1.</span> <span class="toc-text">创建和使用字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-number">5.2.</span> <span class="toc-text">字典的运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">5.3.</span> <span class="toc-text">字典的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">5.4.</span> <span class="toc-text">字典的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">5.5.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://dailybing.com/api/v1')"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By 李梓卓</div><div class="framework-info"><span>Framework </span><a href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>